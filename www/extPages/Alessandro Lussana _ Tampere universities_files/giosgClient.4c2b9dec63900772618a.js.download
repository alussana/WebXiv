!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/static/",i(i.s=2820)}({1:function(t,e,i){"use strict";i.r(e),i.d(e,"__extends",(function(){return o})),i.d(e,"__assign",(function(){return r})),i.d(e,"__rest",(function(){return a})),i.d(e,"__decorate",(function(){return s})),i.d(e,"__param",(function(){return c})),i.d(e,"__metadata",(function(){return u})),i.d(e,"__awaiter",(function(){return l})),i.d(e,"__generator",(function(){return d})),i.d(e,"__createBinding",(function(){return g})),i.d(e,"__exportStar",(function(){return f})),i.d(e,"__values",(function(){return h})),i.d(e,"__read",(function(){return p})),i.d(e,"__spread",(function(){return _})),i.d(e,"__spreadArrays",(function(){return m})),i.d(e,"__spreadArray",(function(){return w})),i.d(e,"__await",(function(){return v})),i.d(e,"__asyncGenerator",(function(){return y})),i.d(e,"__asyncDelegator",(function(){return b})),i.d(e,"__asyncValues",(function(){return A})),i.d(e,"__makeTemplateObject",(function(){return T})),i.d(e,"__importStar",(function(){return E})),i.d(e,"__importDefault",(function(){return O})),i.d(e,"__classPrivateFieldGet",(function(){return S})),i.d(e,"__classPrivateFieldSet",(function(){return R}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var r=function(){return(r=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(i[n[o]]=t[n[o]])}return i}function s(t,e,i,n){var o,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,i,a):o(e,i))||a);return r>3&&a&&Object.defineProperty(e,i,a),a}function c(t,e){return function(i,n){e(i,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,i,n){return new(i||(i=Promise))((function(o,r){function a(t){try{c(n.next(t))}catch(t){r(t)}}function s(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))}function d(t,e){var i,n,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}var g=Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]};function f(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||g(e,t,i)}function h(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,o,r=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}return a}function _(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function m(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n}function w(t,e){for(var i=0,n=e.length,o=t.length;i<n;i++,o++)t[o]=e[i];return t}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function y(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=i.apply(t,e||[]),r=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(t){o[t]&&(n[t]=function(e){return new Promise((function(i,n){r.push([t,e,i,n])>1||s(t,e)}))})}function s(t,e){try{(i=o[t](e)).value instanceof v?Promise.resolve(i.value.v).then(c,u):l(r[0][2],i)}catch(t){l(r[0][3],t)}var i}function c(t){s("next",t)}function u(t){s("throw",t)}function l(t,e){t(e),r.shift(),r.length&&s(r[0][0],r[0][1])}}function b(t){var e,i;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(i=!i)?{value:v(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function A(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=h(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(e){return new Promise((function(n,o){(function(t,e,i,n){Promise.resolve(n).then((function(e){t({value:e,done:i})}),e)})(n,o,(e=t[i](e)).done,e.value)}))}}}function T(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var C=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&g(e,t,i);return C(e,t),e}function O(t){return t&&t.__esModule?t:{default:t}}function S(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)}function R(t,e,i,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(t,i):o?o.value=i:e.set(t,i),i}},1009:function(t,e,i){var n=i(156),o=i(239),r=i(240),a=i(105),s=i(124),c=i(157),u=Math.min;t.exports=function(t,e,i){for(var l=i?r:o,d=t[0].length,g=t.length,f=g,h=Array(g),p=1/0,_=[];f--;){var m=t[f];f&&e&&(m=a(m,s(e))),p=u(m.length,p),h[f]=!i&&(e||d>=120&&m.length>=120)?new n(f&&m):void 0}m=t[0];var w=-1,v=h[0];t:for(;++w<d&&_.length<p;){var y=m[w],b=e?e(y):y;if(y=i||0!==y?y:0,!(v?c(v,b):l(_,b,i))){for(f=g;--f;){var A=h[f];if(!(A?c(A,b):l(t[f],b,i)))continue t}v&&v.push(b),_.push(y)}}return _}},1010:function(t,e,i){var n=i(138);t.exports=function(t){return n(t)?t:[]}},105:function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length,o=Array(n);++i<n;)o[i]=e(t[i],i,t);return o}},124:function(t,e){t.exports=function(t){return function(e){return t(e)}}},127:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},1278:function(t,e,i){"use strict";e.GiosgStyleEngine=function(){var t=Object.prototype.hasOwnProperty;function e(){}return e.prototype.cssRuleStates=[{id:"normalState",pseudoClass:""},{id:"hoverState",pseudoClass:":hover"},{id:"activeState",pseudoClass:":active"},{id:"focusState",pseudoClass:":focus"}],e.prototype.cssVendors=[{setting:"prefixWebkit",prefix:"-webkit-"},{setting:"prefixMoz",prefix:"-moz-"},{setting:"prefixMs",prefix:"-ms-"}],e.prototype.generateCssFromStyleConfig=function(t,e,i){for(var n=i&&i.parentSelector,o=i&&null!=i.ruleSeparator?i.ruleSeparator:" ",r=this.cssRuleStates,a=this.cssVendors,s=[],c=0,u=0;u<t.length;u++){var l=t[u],d=l.selectors,g=e[l.id];if(g)for(var f=0;f<r.length;f++){var h=r[f],p=g[h.id];if(p&&p.length>0&&d.length>0){c>0&&s.push(o);for(var _=0;_<d.length;_++){var m=d[_];_>0&&s.push(", "),n&&s.push(n," "),s.push(m,h.pseudoClass)}s.push(" {");for(var w=0;w<p.length;w++){w>0&&s.push(" ");var v=p[w];if(v.name&&null!=v.value){if(v.autoVendors)for(var y=0;y<a.length;y++){var b=a[y];s.push(b.prefix,v.name,":",v.value),v.important&&s.push(" !important"),s.push("; ")}s.push(v.name,":",v.value),v.important&&s.push(" !important"),s.push(";")}}s.push("}"),c+=1}}}return s.join("")},e.prototype.mergeStyleConfigs=function(){for(var e={},i=arguments.length-1;i>=0;i--){var n=arguments[i];if(n)for(var o in n)t.call(n,o)&&null!=n[o]&&!t.call(e,o)&&(e[o]=n[o])}return e},e}(window)},1279:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ACTION_STYLES=e.ACTION_TYPES=e.ActionTypes=void 0;var n={SEND_AUTOSUGGEST:1,JOIN_ROOMS:2,NO_CHATBUTTON:5,NO_AUTOSUGGEST:6,RUN_JAVASCRIPT:7,ENABLE_CHATBUTTON:8,SHOW_ELEMENTS:9,HIDE_ELEMENTS:10,REDIRECT:11,LOAD_LEAD_FORM:13,CHANGE_CB_TEXT:14,CHANGE_CB_TARGET:15,CHANGE_LANGUAGE:16,SHOW_LEAD_FORM:17,SET_LEAD_FORM_PROCESSOR:18,SHOW_BUTTON:19,SHOW_CHAT_DIALOG:20,SET_VISITOR_PRIORITY:21,DISABLE_CAPACITY_CHECK:22,INJECT_CSS:23,SEND_SYSTEM_MESSAGE:25,LOAD_INTERACTION:26,SEND_INTERACTION_TO_CHAT:27};e.ActionTypes=n;var o=Object.keys(n);e.ACTION_TYPES=o;e.ACTION_STYLES=["primary","secondary","info","success","warning","danger","link","brand_primary","brand_secondary"]},1280:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LANGUAGE_CODES=e.CURRENCIES=e.TIMEZONES=void 0;e.TIMEZONES=["EET","Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmara","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Kralendijk","America/La_Paz","America/Lima","America/Los_Angeles","America/Lower_Princes","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Arctic/Longyearbyen","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/St_Helena","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","Canada/Atlantic","Canada/Central","Canada/Eastern","Canada/Mountain","Canada/Newfoundland","Canada/Pacific","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Saratov","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zaporozhye","Europe/Zurich","GMT","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis","US/Alaska","US/Arizona","US/Central","US/Eastern","US/Hawaii","US/Mountain","US/Pacific","UTC"];e.CURRENCIES=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTN","BWP","BYR","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CUC","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GQE","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZM","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SYP","SZL","THB","TJS","TMT","TND","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VEB","VND","VUV","WST","XAF","XCD","XDR","XOF","XPF","YER","ZAR","ZMK","ZWR","DOGE"];e.LANGUAGE_CODES=["cs","de","en","es","et","fi","fr","ga","he","it","ja","ko","lv","lt","nb","nl","pl","ru","sv","zh-cn","zh-tw","th"]},1281:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONDITION_TYPES=e.ConditionTypes=void 0;var n={VISITOR_CITY:1,CSS_SELECTOR:2,PREVIOUS_PAGE_URL_REGEXP:3,REFERRER_URL_REGEXP:4,PAGE_URL_REGEXP:5,VISITOR_COUNTRY:6,VISIT_COUNT_MORE_THAN:7,CART_SIZE_MORE_THAN:8,CART_SIZE_LESS_THAN:9,PRODUCT_NAMES_IN_CART:10,PIPELINE_STEP:11,JS_FUNCTION_RETURNS_TRUE:12,VISIT_COUNT_LESS_THAN:13,PURCHASE_COUNT_MORE_THAN:14,VISITOR_IP_ADDR:15,PAGE_URL_SIMPLE:16,OPERATOR_PRESENCE:17,AFTER_TIMEOUT:18,CLICK_ELEMENT:19,CLICK_BUTTON:20,DEVICE_TYPE:21,WEEKLY_SCHEDULE:22,VISITOR_PRIORITY_MORE_THAN:23,VISITOR_PRIORITY_LESS_THAN:24,VISITOR_TARGETED:25,VISITOR_CART_LOCKED:26,VISITOR_SENT_LEAD:27,PREVIOUS_PAGE_URL_SIMPLE:28,REFERRER_URL_SIMPLE:29,VISITOR_HAS_WAITED_FOR:30,HAS_CHATTED:31,CHAT_HAS_AT_LEAST_ONE_OF_TAGS:32,VISITOR_BELONGS_TO_A_TARGET_EXPERIMENT_GROUP:33,VISITOR_HAS_WAITED_FOR_THE_FIRST_ANSWER:34,VISITOR_BELONGS_TO_AN_USER_EXPERIMENT_GROUP:35,TARGET_PREDICTION_CONVERSION_PROBABILITY:36,AVERAGE_WAITING_TIME:37};e.ConditionTypes=n;var o=Object.keys(n);e.CONDITION_TYPES=o},1282:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OAUTH_ERROR_TYPES=e.OAUTH_PROMPT_OPTIONS=e.OAUTH_RESPONSE_TYPES=e.OAUTH_SCOPE_OPTIONS=e.OAUTH_BASE_URL=void 0;e.OAUTH_BASE_URL="https://service.giosg.com/identity/authorize";e.OAUTH_SCOPE_OPTIONS=["openid","openid profile","openid email","openid profile email"];e.OAUTH_RESPONSE_TYPES=["id_token","id_token token"];e.OAUTH_PROMPT_OPTIONS=["none","login"];e.OAUTH_ERROR_TYPES=["invalid_request","invalid_client","invalid_scope","interaction_required","login_required"]},1283:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AUTOSUGGEST_PERMISSION_OPTIONS=e.AutosuggestPermissionOptions=void 0;var n={NOT_AVAILABLE:0,DISABLED:1,ENABLED:2};e.AutosuggestPermissionOptions=n;var o=Object.keys(n);e.AUTOSUGGEST_PERMISSION_OPTIONS=o},1284:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USER_PERMISSION_SCOPES=e.CHAT_DATA_MESSAGE_TYPES=e.CHAT_STATUS_MESSAGE_TYPES=e.EXPERIMENT_GROUP_TYPES=e.ASSET_TYPES=void 0;e.ASSET_TYPES=["image","css","javascript","font"];e.EXPERIMENT_GROUP_TYPES=["target_algorithm","target_algorithm_beta1","target_algorithm_beta2","target_algorithm_beta3","target_random","control","user_defined"];e.CHAT_STATUS_MESSAGE_TYPES=["join","leave","shoppingcart_locked","action","call_ended"];e.CHAT_DATA_MESSAGE_TYPES=["msg","autosuggest","system","interaction_submit","call_request"];e.USER_PERMISSION_SCOPES=["settings","reports","users"]},129:function(t,e,i){var n=i(413),o=i(414),r=i(415),a=i(416),s=i(417);function c(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=r,c.prototype.has=a,c.prototype.set=s,t.exports=c},130:function(t,e,i){var n=i(135);t.exports=function(t,e){for(var i=t.length;i--;)if(n(t[i][0],e))return i;return-1}},1302:function(t,e,i){var n=i(1503);t.exports=function(t){return n(2,t)}},1303:function(t,e,i){"use strict";function n(t){var e,i,n,o,r,a,s,c,u,l=1732584193,d=4023233417,g=2562383102,f=271733878,h=3285377520,p=function(t,e){return t<<e|t>>>32-e},_=function(t){var e,i="";for(e=7;e>=0;e--)i+=(t>>>4*e&15).toString(16);return i},m=[],w=[],v=(t=unescape(encodeURIComponent(t))).length;for(i=0;i<v-3;i+=4)n=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),w.push(n);switch(3&v){case 0:i=2147483648;break;case 1:i=t.charCodeAt(v-1)<<24|8388608;break;case 2:i=t.charCodeAt(v-2)<<24|t.charCodeAt(v-1)<<16|32768;break;case 3:i=t.charCodeAt(v-3)<<24|t.charCodeAt(v-2)<<16|t.charCodeAt(v-1)<<8|128}for(w.push(i);14!=(15&w.length);)w.push(0);for(w.push(v>>>29),w.push(v<<3&4294967295),e=0;e<w.length;e+=16){for(i=0;i<16;i++)m[i]=w[e+i];for(i=16;i<=79;i++)m[i]=p(m[i-3]^m[i-8]^m[i-14]^m[i-16],1);for(o=l,r=d,a=g,s=f,c=h,i=0;i<=19;i++)u=p(o,5)+(r&a|~r&s)+c+m[i]+1518500249&4294967295,c=s,s=a,a=p(r,30),r=o,o=u;for(i=20;i<=39;i++)u=p(o,5)+(r^a^s)+c+m[i]+1859775393&4294967295,c=s,s=a,a=p(r,30),r=o,o=u;for(i=40;i<=59;i++)u=p(o,5)+(r&a|r&s|a&s)+c+m[i]+2400959708&4294967295,c=s,s=a,a=p(r,30),r=o,o=u;for(i=60;i<=79;i++)u=p(o,5)+(r^a^s)+c+m[i]+3395469782&4294967295,c=s,s=a,a=p(r,30),r=o,o=u;l=l+o&4294967295,d=d+r&4294967295,g=g+a&4294967295,f=f+s&4294967295,h=h+c&4294967295}return(u=_(l)+_(d)+_(g)+_(f)+_(h)).toLowerCase()}i.d(e,"a",(function(){return n}))},1307:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=window.giosg?window.giosg.ipAddress:void 0,o=function(t){n=t,window.giosg.ipAddress=n}},1308:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function(){var t,e;return(null===(t=window.top)||void 0===t?void 0:t.document.referrer)||(null===(e=window.parent)||void 0===e?void 0:e.document.referrer)||document.referrer}},131:function(t,e,i){var n=i(63)(Object,"create");t.exports=n},132:function(t,e,i){var n=i(435);t.exports=function(t,e){var i=t.__data__;return n(e)?i["string"==typeof e?"string":"hash"]:i.map}},133:function(t,e){t.exports=function(t){return t}},135:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},136:function(t,e,i){var n=i(64),o=i(46);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},138:function(t,e,i){var n=i(61),o=i(46);t.exports=function(t){return o(t)&&n(t)}},145:function(t,e,i){var n=i(450),o=i(184),r=i(451),a=i(262),s=i(452),c=i(64),u=i(260),l=u(n),d=u(o),g=u(r),f=u(a),h=u(s),p=c;(n&&"[object DataView]"!=p(new n(new ArrayBuffer(1)))||o&&"[object Map]"!=p(new o)||r&&"[object Promise]"!=p(r.resolve())||a&&"[object Set]"!=p(new a)||s&&"[object WeakMap]"!=p(new s))&&(p=function(t){var e=c(t),i="[object Object]"==e?t.constructor:void 0,n=i?u(i):"";if(n)switch(n){case l:return"[object DataView]";case d:return"[object Map]";case g:return"[object Promise]";case f:return"[object Set]";case h:return"[object WeakMap]"}return e}),t.exports=p},1462:function(t,e,i){"use strict";i.r(e),e.default='<svg xmlns="http://www.w3.org/2000/svg" width="50.5" height="47" viewBox="0 0 72 67">\n  <path class="giosg-speech-bubble" fill="#ff3a97" fill-rule="evenodd" d="M.014 33.5v.04c.022 18.49 15.263 33.47 34.061 33.47a34.352 34.352 0 0 0 16.053-3.95c9.383 4.81 18.8 4.04 21.278 3.47a.778.778 0 0 0 .205-1.45c-2.668-1.41-7.222-4.45-8.453-9.28a9.7 9.7 0 0 1-.03-4.8 32.992 32.992 0 0 0 5.007-17.5c0-18.51-15.249-33.51-34.06-33.51S.014 14.99.014 33.5z" data-name="speech bubble"/>\n  <path class="giosg-speech-bubble-wave" fill="#fff" fill-rule="evenodd" d="M53.4 30.21c-1.156-.42-2.562-.93-3.907-1.41a15.657 15.657 0 0 0-8.871-.95c-3.065.66-4.356 2.99-6.694 6.27s-5.243 6.35-10.565 7.08-8.307-.95-10.888-4.23-2.177-7.66-.484-12.54 5.565-8.24 7.984-10.06 6.452-3.43 11.937-3.65a25.27 25.27 0 0 1 15.323 4.16 22.181 22.181 0 0 1 6.613 7.87 18.656 18.656 0 0 1 1.765 5.86 1.593 1.593 0 0 1-2.213 1.6z"/>\n</svg>\n'},147:function(t,e,i){var n=i(175),o=i(92),r=i(341),a=i(138),s=o((function(t){return r(n(t,1,a,!0))}));t.exports=s},1503:function(t,e,i){var n=i(228);t.exports=function(t,e){var i;if("function"!=typeof e)throw new TypeError("Expected a function");return t=n(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=void 0),i}}},1504:function(t,e,i){var n,o,r;o=[e],void 0===(r="function"==typeof(n=function(t){"use strict";function e(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}Object.defineProperty(t,"__esModule",{value:!0});var i=!1;if("undefined"!=typeof window){var n={get passive(){i=!0}};window.addEventListener("testPassive",null,n),window.removeEventListener("testPassive",null,n)}var o="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),r=[],a=!1,s=-1,c=void 0,u=void 0,l=function(t){return r.some((function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))}))},d=function(t){var e=t||window.event;return!!l(e.target)||1<e.touches.length||(e.preventDefault&&e.preventDefault(),!1)},g=function(){setTimeout((function(){void 0!==u&&(document.body.style.paddingRight=u,u=void 0),void 0!==c&&(document.body.style.overflow=c,c=void 0)}))};t.disableBodyScroll=function(t,n){if(o){if(!t)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(t&&!r.some((function(e){return e.targetElement===t}))){var g={targetElement:t,options:n||{}};r=[].concat(e(r),[g]),t.ontouchstart=function(t){1===t.targetTouches.length&&(s=t.targetTouches[0].clientY)},t.ontouchmove=function(e){var i,n,o,r;1===e.targetTouches.length&&(n=t,r=(i=e).targetTouches[0].clientY-s,!l(i.target)&&(n&&0===n.scrollTop&&0<r||(o=n)&&o.scrollHeight-o.scrollTop<=o.clientHeight&&r<0?d(i):i.stopPropagation()))},a||(document.addEventListener("touchmove",d,i?{passive:!1}:void 0),a=!0)}}else{h=n,setTimeout((function(){if(void 0===u){var t=!!h&&!0===h.reserveScrollBarGap,e=window.innerWidth-document.documentElement.clientWidth;t&&0<e&&(u=document.body.style.paddingRight,document.body.style.paddingRight=e+"px")}void 0===c&&(c=document.body.style.overflow,document.body.style.overflow="hidden")}));var f={targetElement:t,options:n||{}};r=[].concat(e(r),[f])}var h},t.clearAllBodyScrollLocks=function(){o?(r.forEach((function(t){t.targetElement.ontouchstart=null,t.targetElement.ontouchmove=null})),a&&(document.removeEventListener("touchmove",d,i?{passive:!1}:void 0),a=!1),r=[],s=-1):(g(),r=[])},t.enableBodyScroll=function(t){if(o){if(!t)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");t.ontouchstart=null,t.ontouchmove=null,r=r.filter((function(e){return e.targetElement!==t})),a&&0===r.length&&(document.removeEventListener("touchmove",d,i?{passive:!1}:void 0),a=!1)}else 1===r.length&&r[0].targetElement===t?(g(),r=[]):r=r.filter((function(e){return e.targetElement!==t}))}})?n.apply(e,o):n)||(t.exports=r)},1505:function(t,e,i){},151:function(t,e){var i=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&i.test(t))&&t>-1&&t%1==0&&t<e}},152:function(t,e){var i=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}},1520:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i(16),o={1:"autosuggest",2:"join_rooms",5:"disable_chat_button",6:"disable_autosuggest",7:"run_javascript",8:"enable_chat_button",9:"show_elements",10:"hide_elements",11:"redirect",13:"load_lead_form",14:"change_chat_button_text",15:"change_chat_button_target",16:"change_chat_window_language",17:"show_lead_form",18:"use_lead_form_processor",19:"show_custom_button",20:"show_chat_window",21:"set_visitor_priority",22:"disable_capacity_check",23:"inject_css",24:"load_editor_element",25:"send_system_message",26:"load_interaction",27:"send_interaction_to_chat"};window.giosg=window.giosg||{},window.giosg.rulesConfig={actionTypes:n.ActionTypes,conditionTypes:n.ConditionTypes}},156:function(t,e,i){var n=i(198),o=i(440),r=i(441);function a(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new n;++e<i;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=r,t.exports=a},157:function(t,e){t.exports=function(t,e){return t.has(e)}},158:function(t,e,i){(function(t){var n=i(41),o=i(447),r=e&&!e.nodeType&&e,a=r&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===r?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;t.exports=c}).call(this,i(127)(t))},16:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ActionTypes",{enumerable:!0,get:function(){return n.ActionTypes}}),Object.defineProperty(e,"ACTION_TYPES",{enumerable:!0,get:function(){return n.ACTION_TYPES}}),Object.defineProperty(e,"ACTION_STYLES",{enumerable:!0,get:function(){return n.ACTION_STYLES}}),Object.defineProperty(e,"TIMEZONES",{enumerable:!0,get:function(){return o.TIMEZONES}}),Object.defineProperty(e,"CURRENCIES",{enumerable:!0,get:function(){return o.CURRENCIES}}),Object.defineProperty(e,"LANGUAGE_CODES",{enumerable:!0,get:function(){return o.LANGUAGE_CODES}}),Object.defineProperty(e,"ConditionTypes",{enumerable:!0,get:function(){return r.ConditionTypes}}),Object.defineProperty(e,"CONDITION_TYPES",{enumerable:!0,get:function(){return r.CONDITION_TYPES}}),Object.defineProperty(e,"OAUTH_BASE_URL",{enumerable:!0,get:function(){return a.OAUTH_BASE_URL}}),Object.defineProperty(e,"OAUTH_SCOPE_OPTIONS",{enumerable:!0,get:function(){return a.OAUTH_SCOPE_OPTIONS}}),Object.defineProperty(e,"OAUTH_RESPONSE_TYPES",{enumerable:!0,get:function(){return a.OAUTH_RESPONSE_TYPES}}),Object.defineProperty(e,"OAUTH_PROMPT_OPTIONS",{enumerable:!0,get:function(){return a.OAUTH_PROMPT_OPTIONS}}),Object.defineProperty(e,"OAUTH_ERROR_TYPES",{enumerable:!0,get:function(){return a.OAUTH_ERROR_TYPES}}),Object.defineProperty(e,"AutosuggestPermissionOptions",{enumerable:!0,get:function(){return s.AutosuggestPermissionOptions}}),Object.defineProperty(e,"AUTOSUGGEST_PERMISSION_OPTIONS",{enumerable:!0,get:function(){return s.AUTOSUGGEST_PERMISSION_OPTIONS}}),Object.defineProperty(e,"ASSET_TYPES",{enumerable:!0,get:function(){return c.ASSET_TYPES}}),Object.defineProperty(e,"EXPERIMENT_GROUP_TYPES",{enumerable:!0,get:function(){return c.EXPERIMENT_GROUP_TYPES}}),Object.defineProperty(e,"CHAT_STATUS_MESSAGE_TYPES",{enumerable:!0,get:function(){return c.CHAT_STATUS_MESSAGE_TYPES}}),Object.defineProperty(e,"CHAT_DATA_MESSAGE_TYPES",{enumerable:!0,get:function(){return c.CHAT_DATA_MESSAGE_TYPES}}),Object.defineProperty(e,"USER_PERMISSION_SCOPES",{enumerable:!0,get:function(){return c.USER_PERMISSION_SCOPES}});var n=i(1279),o=i(1280),r=i(1281),a=i(1282),s=i(1283),c=i(1284)},167:function(t,e,i){var n=i(446),o=i(46),r=Object.prototype,a=r.hasOwnProperty,s=r.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=c},175:function(t,e,i){var n=i(206),o=i(556);t.exports=function t(e,i,r,a,s){var c=-1,u=e.length;for(r||(r=o),s||(s=[]);++c<u;){var l=e[c];i>0&&r(l)?i>1?t(l,i-1,r,a,s):n(s,l):a||(s[s.length]=l)}return s}},1829:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i(1),o=i(1302),r=i.n(o),a=function(){function t(){var t=this;t.ruleItems=[],t.startDeferred=window.jGiosg.Deferred(),t.isStarted=!1,t.commonConditions=[],t.conditionsByType={},t.eventConditionsByType={},t.actionCheckersByType={},t.commonRuleHandlers=[],t.actionHandlersByType={},t.matchingRulesByAction={},t.matchingConditions=[],t.initializedEventConditions=[],t.startDeferred.done((function(){t.isStarted=!0,t.refreshAllRules()}))}return t.prototype.start=function(){this.startDeferred.resolve()},t.prototype.setConditionType=function(t,e){this._assertNotNull(t,"condition"),this.conditionsByType[t]=e},t.prototype.setEventConditionType=function(t,e){var i=this;i._assertNotNull(t,"condition");var n=i.initializedEventConditions;i.setConditionType(t,(function(t,o,r){if(!n.some((function(t){return t===o}))){n.push(o);var a=i._initializeEventCondition(o);try{e(t,a,o,r)}catch(t){console.error(t)}}return!1})),i.eventConditionsByType[t]=!0},t.prototype.setActionTypeCondition=function(t,e){this._assertNotNull(t,"action"),this.actionCheckersByType[t]=e},t.prototype.addCommonCondition=function(t){this.commonConditions.push(t)},t.prototype.addRules=function(t){for(var e=0;e<t.length;e++)this.addRule(t[e])},t.prototype.addRule=function(t){this.ruleItems.push({rule:t,actionItems:t.actions.map((function(t){return{typeConditionPromise:window.jGiosg.Deferred().reject().promise(),action:t}})),matchPromise:window.jGiosg.Deferred().reject().promise(),isMatching:!1,ruleHandlerCalls:[],actionHandlerCalls:[]}),this.refreshAllRules()},t.prototype.getRules=function(){return this.ruleItems.map((function(t){return t.rule}))},t.prototype.refreshAllRules=function(){var t=this;if(!t.isStarted)return t.startDeferred.then((function(){return t.refreshAllRules()}));var e=t.refreshSetup;if(e)return t.refreshPromise;(e=t.refreshSetup=window.jGiosg.Deferred()).always((function(){t.refreshSetup=null}));var i=t.ruleItems.map((function(i){var n=t._checkCommonConditions(i,e.promise()),o=t._checkRuleConditions(i,e.then((function(){return t.matchingConditions}))),r=n.concat(o),a=r.length?t._all(r):e.promise(),s=t._checkActionConditions(i,a),c=n.concat(o).concat(s),u=t._all(c);return u.__ruleConditions__=o,u.__commonConditions__=n,u.__actionConditions__=s,u.__actionCondition__=s[0],i.matchPromise=u,u.done((function(){i.matchPromise===u&&t._matchRuleItem(i)})).fail((function(){i.matchPromise===u&&t._unmatchRuleItem(i)}))}));setTimeout(e.resolve,0);var n=window.jGiosg.when(!0),o=t._all(i.map((function(t){return t.then(null,(function(){return n}))})));return t.refreshPromise=o,o.done((function(){t.refreshPromise===o&&delete t.refreshPromise})),function e(){if(t.refreshPromise)return t.refreshPromise.then(e)}()},t.prototype.onActionTrigger=function(t,e,i){this._getActionTypeHandlers(t).push({isTriggered:!1,triggerFn:e,untriggerFn:i,oncePerRule:!1}),this.refreshAllRules()},t.prototype.onActionTriggerOnce=function(t,e){this.onActionTrigger(t,r()(e))},t.prototype.onRuleTrigger=function(t,e){this.commonRuleHandlers.push({handlerFn:t,undoFn:e,oncePerRule:!1}),this.refreshAllRules()},t.prototype.onRuleTriggerOnce=function(t){this.commonRuleHandlers.push({handlerFn:t,oncePerRule:!0}),this.refreshAllRules()},t.prototype.onRuleActionTrigger=function(t,e,i){this._getActionTypeHandlers(t).push({handlerFn:e,undoFn:i,oncePerRule:!1,isTriggered:!1,triggerFn:void 0}),this.refreshAllRules()},t.prototype.onRuleActionTriggerOnce=function(t,e){this._getActionTypeHandlers(t).push({handlerFn:e,oncePerRule:!0,isTriggered:!1}),this.refreshAllRules()},t.prototype.getMatchingActions=function(t){return this.getMatchingRulesByAction(t).then((function(e){return e.map((function(t){return t.actions})).reduce((function(t,e){return t.concat(e)}),[]).filter((function(e){return e.type===t}))}))},t.prototype.getMatchingRulesByAction=function(t){var e=this;if(e._assertNotNull(t,"action"),!e.isStarted)return e.startDeferred.then((function(){return e.getMatchingRulesByAction(t)}));if(e.refreshSetup)return e.refreshSetup.then((function(){return e.getMatchingRulesByAction(t)}));var i=e.ruleItems.filter((function(e){return e.rule.actions.some((function(e){return e.type===t}))})).map((function(t){return t.matchPromise.then((function(){return t}),(function(){return window.jGiosg.when(null)}))}));return e._all(i).then((function(t){return t.filter((function(t){return!!t})).map((function(t){return t.rule}))}))},t.prototype.getCurrentlyMatchingRulesByAction=function(t){var e=[];return this.ruleItems.forEach((function(i){var n=i.rule;i.isMatching&&n.actions.some((function(e){return e&&e.type===t}))&&e.push(n)})),e},t.prototype.getCurrentlyMatchingActions=function(t){var e=[];return this.ruleItems.forEach((function(i){var n=i.rule;i.isMatching&&n.actions.forEach((function(i){i&&i.type===t&&e.push(i)}))})),e},t.prototype.getDependencyActions=function(t){var e=[];return this.ruleItems.forEach((function(i){i.actionItems.forEach((function(i){if(i.action.type===t){var n=i.typeConditionPromise.then((function(){return i.action}),(function(){return window.jGiosg.when(null)}));e.push(n)}}))})),this._all(e).then((function(t){return t.filter((function(t){return null!=t}))}))},t.prototype.onRefreshEnd=function(t){throw new Error("The onRefreshEnd is deprecated")},t.prototype.onRefreshStart=function(t){throw new Error("The onRefreshStart is deprecated")},t.prototype._checkCommonConditions=function(t,e){var i=this;return this.commonConditions.map((function(n){var o=e.then((function(){return i._makeConditionPromise(n(t.rule))}));return o.__condition__=n,o}))},t.prototype._checkRuleConditions=function(t,e){var i,n=this,o=t.rule;return(null!==(i=o.conditions)&&void 0!==i?i:[]).map((function(t){var i=e.then((function(e){return e.indexOf(t)>=0||n._checkCondition(t,o)}));return i.__condition__=t,i}))},t.prototype._checkActionConditions=function(t,e){var i=this,n=[];return t.actionItems.forEach((function(o){var r=o.action,a=i.actionCheckersByType[r.type];if(a){var s=e.then((function(){return i._makeConditionPromise(a(r,t.rule))}));s.__condition__=a,o.typeConditionPromise=s,n.push(s)}else o.typeConditionPromise=e})),n},t.prototype._initializeEventCondition=function(t){var e=this;return function(){return e.matchingConditions.push(t),e.refreshAllRules().always((function(){var i=e.matchingConditions.indexOf(t);i>=0&&e.matchingConditions.splice(i,1),e.refreshAllRules()})),t}},t.prototype._getRuleStates=function(t,e){var i=[],n=this.eventConditionsByType,o=function(t){var i=t.__condition__;return e&&"function"==typeof i&&(i=i.toString()),i},r=function(t){var e=t.state();return"resolved"===e?"active":"rejected"===e?"passive":"pending"};return this.ruleItems.forEach((function(e){var a=e.rule;if(!t||a.actions.some((function(e){return e.type===t}))){var s=e.matchPromise,c=s.state(),u=!1,l=s.__commonConditions__.map((function(t){return{state:r(t),condition:o(t)}})),d=s.__ruleConditions__.map((function(t){var e=o(t),i=!!n[e.type];return i&&(u=!0),{state:r(t),evented:i,condition:e}})),g=s.__actionCondition__,f=g?[{state:r(g),condition:o(g)}]:[];i.push({rule:a,evented:u,state:"resolved"===c?"active":"rejected"===c?"passive":"pending",ruleConditions:d,commonConditions:l,actionConditions:f})}})),i},t.prototype._checkCondition=function(t,e){var i,n=this.conditionsByType[t.type];if(!n)return window.jGiosg.Deferred().reject();try{i=n(t.value,t,e)}catch(t){return window.jGiosg.Deferred().reject(t)}return this._makeConditionPromise(i,t.negate)},t.prototype._makeConditionPromise=function(t,e){void 0===e&&(e=!1);var i=window.jGiosg.when(t);return e?i.then((function(t){return t?window.jGiosg.Deferred().reject(t):t}),(function(t){return window.jGiosg.Deferred().resolve(t)})):i.then((function(t){return t||window.jGiosg.Deferred().reject(t)}))},t.prototype._matchRuleItem=function(t){var e=this;t.isMatching=!0;var i=e.commonRuleHandlers,n=t.ruleHandlerCalls;i.forEach((function(e){if(!n.some((function(t){return t.handler===e}))){var i={handler:e,handlerResult:void 0};if(n.push(i),e.handlerFn)try{i.handlerResult=e.handlerFn(t.rule)}catch(t){console.error(t)}}}));var o=t.rule.actions,r=t.actionHandlerCalls;o.forEach((function(i){var n=i.type,o=e._getActionMatchingRules(n);o.some((function(e){return e===t}))||o.push(t);var a=e._getActionTypeHandlers(n);a&&a.forEach((function(n){if(!r.some((function(t){return t.handler===n&&t.handlerAction===i}))){var o={handlerAction:i,handler:n,handlerResult:void 0};if(r.push(o),n.handlerFn)try{o.handlerResult=n.handlerFn(i,t.rule)}catch(t){console.error(t)}}e._triggerActionHandler(n,i,t.rule)}))}))},t.prototype._unmatchRuleItem=function(t){var e,i=this;t.isMatching=!1;var n=t.ruleHandlerCalls;for(e=n.length-1;e>=0;e--){var o=n[e],r=o.handler;if(!r.oncePerRule){n.splice(e,1);var a=o.handlerResult;if(r.undoFn)try{r.undoFn(t.rule,a)}catch(t){console.error(t)}}}var s=t.actionHandlerCalls;for(e=s.length-1;e>=0;e--){var c=s[e],u=c.handler;if(!u.oncePerRule){s.splice(e,1);var l=c.handlerResult,d=c.handlerAction;if(u.undoFn)try{u.undoFn(d,t.rule,l)}catch(t){console.error(t)}}}t.rule.actions.forEach((function(e){for(var n=e.type,o=i._getActionTypeHandlers(n),r=i._getActionMatchingRules(n),a=r.length-1;a>=0;a--)r[a]===t&&(r.splice(a,1),0===r.length&&o.forEach(i._untriggerActionHandler))}))},t.prototype._getActionTypeHandlers=function(t){var e=this.actionHandlersByType,i=e[t];return i||(e[t]=i=[]),i},t.prototype._getActionMatchingRules=function(t){var e=this.matchingRulesByAction,i=e[t];return i||(e[t]=i=[]),i},t.prototype._triggerActionHandler=function(t,e,i){if(!t.isTriggered&&(t.isTriggered=!0,t.triggerRule=i,t.triggerAction=e,t.triggerFn))try{t.triggerResult=t.triggerFn(e,i)}catch(t){console.error(t)}},t.prototype._untriggerActionHandler=function(t){if(t.isTriggered&&(t.isTriggered=!1,t.untriggerFn)){var e=t.triggerAction,i=t.triggerRule,n=t.triggerResult;t.triggerAction=null,t.triggerRule=null,t.triggerResult=null;try{t.untriggerFn(e,i,n)}catch(t){console.error(t)}}},t.prototype._assertNotNull=function(t,e){if(null==t)throw new Error("Invalid "+e+" type "+t)},t.prototype._all=function(t){return t.length?window.jGiosg.when.apply(window.jGiosg,t).then((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(n.__spreadArrays)(t)})):window.jGiosg.when([])},t}()},1830:function(t,e,i){"use strict";var n=i(16),o=i(211),r=i.n(o),a=i(338);e.a=function(t,e,i,o){var s=[n.ConditionTypes.CLICK_ELEMENT,n.ConditionTypes.CLICK_BUTTON],c=0;i.onRuleActionTrigger(n.ActionTypes.JOIN_ROOMS,(function(t,e){var n=t.value,o=n?n.split(","):[];return e.domain_room_rule&&Object(a.g)(o[0],i),Object(a.a)(o,i),o}),(function(t,e,n){Object(a.e)(n,i)})),i.onActionTrigger(n.ActionTypes.ENABLE_CHATBUTTON,(function(){0===c&&t.GiosgClient.showChatButton(),c++}),(function(){1===c&&t.GiosgClient.hideChatButton(),c--})),i.setActionTypeCondition(n.ActionTypes.ENABLE_CHATBUTTON,(function(o,a){
/*! Enable chat button condition */
var s=t.GiosgClient,c=i.getDependencyActions(n.ActionTypes.NO_CHATBUTTON),u=s.forcedChatButtonTarget?t.jGiosg.when([s.forcedChatButtonTarget]):i.getDependencyActions(n.ActionTypes.CHANGE_CB_TARGET).then((function(t){return t.map((function(t){return t.value}))}));return t.jGiosg.when(c,u).then((function(t,i){if(t.length>0)return!1;var n=a.targetAnyRoom?e.rooms:a.targetRooms;return i.length&&(n=r()(e.rooms,i)),n.some((function(t){return s.isOperatorsOnlineByRoom[t]}))}))})),i.onRuleActionTrigger(n.ActionTypes.CHANGE_CB_TEXT,(function(e){t.GiosgClient.setChatButtonText(e.value)}),(function(){var e=i.getCurrentlyMatchingActions(n.ActionTypes.CHANGE_CB_TEXT);e.length?t.GiosgClient.setChatButtonText(e[0].value):t.GiosgClient.setChatButtonText(null)})),i.onRuleActionTrigger(n.ActionTypes.SEND_SYSTEM_MESSAGE,(function(i,n){if(i.value){var o=n.targetAnyRoom?e.rooms:r()(e.rooms,n.targetRooms);t.GiosgClient.sendSystemMessage(i.value,n.id,"rule",i.settings.sender_public_name,o)}})),i.onActionTrigger(n.ActionTypes.SEND_AUTOSUGGEST,(function(i,n){var o=i.value,r=null==o?null:o,a=(n.targetAnyRoom?e.rooms:n.targetRooms).find((function(e){return t.GiosgClient.isOperatorsOnlineByRoom[e]})),s=i.settings&&i.settings.autosuggesting_user_id,c=i.settings&&i.settings.close_delay;t.GiosgClient.showAutoSuggest(r,a,s,c)})),i.onRuleActionTrigger(n.ActionTypes.SEND_INTERACTION_TO_CHAT,(function(i,n){if(i.value){var o=n.targetAnyRoom?e.rooms:r()(e.rooms,n.targetRooms);t.GiosgClient.sendSystemMessage(i.value,n.id,"rule",i.settings.sender_public_name,o)}})),i.setActionTypeCondition(n.ActionTypes.SEND_AUTOSUGGEST,(function(o,r){return t.jGiosg.when(i.getDependencyActions(n.ActionTypes.NO_AUTOSUGGEST),i.getDependencyActions(n.ActionTypes.DISABLE_CAPACITY_CHECK)).then((function(i,n){var o=r.targetAnyRoom?e.rooms:r.targetRooms,a=0===i.length&&o.some((function(e){return t.GiosgClient.isOperatorsOnlineByRoom[e]})),s=n.length>0;return a?t.jGiosg.Deferred().resolve(s):t.jGiosg.Deferred().reject()})).then((function(n){return function(i){var n=(r.targetAnyRoom?e.rooms:r.targetRooms).find((function(e){return t.GiosgClient.isOperatorsOnlineByRoom[e]}));return t.GiosgClient.requestAutosuggestPermissions(n,i).then((function(){return!0}))}(n).fail((function(){setTimeout((function(){i.refreshAllRules()}),3e4)}))}))})),i.onRuleActionTrigger(n.ActionTypes.RUN_JAVASCRIPT,(function(t){try{o(t.value)}catch(t){console.error("[Run Javascript action error]",t)}})),i.onRuleActionTrigger(n.ActionTypes.SHOW_ELEMENTS,(function(e){return t.jGiosg(e.value).show()}),(function(t,e,i){i.hide()})),i.onRuleActionTrigger(n.ActionTypes.HIDE_ELEMENTS,(function(e){return t.jGiosg(e.value).hide()}),(function(t,e,i){i.show()})),i.onRuleActionTriggerOnce(n.ActionTypes.REDIRECT,(function(e){t.location.href=e.value})),i.onRuleActionTrigger(n.ActionTypes.LOAD_LEAD_FORM,(function(e){0===c&&t.GiosgClient.showChatButton(),c++,t.GiosgClient.preloadLeadForm(e.value),i.refreshAllRules()}),(function(){1===c&&t.GiosgClient.hideChatButton(),c--})),i.setActionTypeCondition(n.ActionTypes.LOAD_LEAD_FORM,(function(o,a){var s=t.GiosgClient,c=i.getDependencyActions(n.ActionTypes.NO_CHATBUTTON),u=s.forcedChatButtonTarget?t.jGiosg.when([s.forcedChatButtonTarget]):i.getDependencyActions(n.ActionTypes.CHANGE_CB_TARGET).then((function(t){return t.map((function(t){return t.value}))}));return t.jGiosg.when(c,u).then((function(t,i){if(t.length>0)return!1;var n=a.targetAnyRoom?e.rooms:a.targetRooms;return i.length&&(n=r()(e.rooms,i)),!!Object.keys(s.isOperatorsOnlineByRoom).length&&n.every((function(t){return!s.isOperatorsOnlineByRoom[t]}))}))})),i.onRuleActionTrigger(n.ActionTypes.SHOW_LEAD_FORM,(function(i,n){var o=r()(e.rooms,!n.targetAnyRoom&&n.targetRooms||[]);t.GiosgClient.showLeadForm(i.value,o[0],!1)})),i.setActionTypeCondition(n.ActionTypes.SHOW_LEAD_FORM,(function(t,o){return(!(e.isMobile||e.isTablet)||!o.conditions.every((function(t){return s.indexOf(t.type)<0})))&&(t.value||i.getDependencyActions(n.ActionTypes.LOAD_LEAD_FORM))})),i.onRuleActionTrigger(n.ActionTypes.SHOW_BUTTON,(function(e){var i=e.value;return i?t.GiosgClient.getChatButtonSettings(i).then((function(e){var n=e.fontBold;return e=Object.assign({},e,{buttonClass:"giosg_button_settings_"+i,fontBold:"boolean"==typeof n?n?"bold":"normal":n}),t.GiosgClient._createButton(e)})):t.jGiosg.Deferred().reject()}),(function(t,e,i){i.done((function(t){t.remove()}))})),i.onRuleActionTrigger(n.ActionTypes.SHOW_CHAT_DIALOG,(function(e){var i=e.value||null,n=t.GiosgClient;n&&n.showClient(!0,i)})),i.onRuleActionTrigger(n.ActionTypes.SET_VISITOR_PRIORITY,(function(e){t.GiosgClient.setVisitorPriority&&t.GiosgClient.setVisitorPriority(parseInt(e.value))})),i.onRuleActionTrigger(n.ActionTypes.INJECT_CSS,(function(e){return t.jGiosg("<style type='text/css' />").text(e.value||"").appendTo("head")}),(function(t,e,i){i.remove()})),i.onRuleActionTrigger(n.ActionTypes.CHANGE_LANGUAGE,(function(e){t.GiosgClient.setLanguage(e.value)}),(function(){t.GiosgClient.setLanguage(null)})),i.onRuleActionTrigger(n.ActionTypes.LOAD_INTERACTION,(function(i){var n=i.value;if(n)if(e.interactionRuntime[n]||(e.interactionRuntime[n]={}),e.interactionRuntime[n].count)e.interactionRuntime[n].count++;else{var o=document.createElement("script");e.interactionRuntime[n]={count:1,destroy:t.jGiosg.Deferred(),script:o},o.src=e.interaction_js_url_pattern.replace("*",n),document.getElementsByTagName("head")[0].appendChild(o)}}),(function(t){var i=t.value;i&&(e.interactionRuntime[i]?(e.interactionRuntime[i].count--,0===e.interactionRuntime[i].count&&(e.interactionRuntime[i].destroy.resolve(),document.getElementsByTagName("head")[0].removeChild(e.interactionRuntime[i].script),e.interactionRuntime[i].script=void 0),e.interactionRuntime[i].count<0&&console.warn("Unexpected interaction rule count state")):console.warn("Unexpected interaction rule runtime state"))})),i.refreshAllRules()}},1834:function(t,e,i){"use strict";var n=i(16),o=i(470),r=i.n(o),a=i(211),s=i.n(a),c=i(345),u=i(1307),l=i(730),d={},g={},f=function(t){try{if(window.jGiosg(t).length)return g[t]=!0,!0}catch(t){}return g[t]=!1,!1},h=i(1308);e.a=function(t,e,i,o){e.__GIOSG_CONDITION_CART_LOCKED=!1,e.__GIOSG_CONDITION_LEAD_SENT=!1;var a=(new Date).getTime();i.addCommonCondition((function(t){
/*! Is rule enabled? */
return null==t.enabled||t.enabled})),i.addCommonCondition((function(t){
/*! Match no more than once for visitor? */
return!(t.matchOnceForVisitor&&!t.disableOnUndo)||!Object(l.a)(t,null)})),i.addCommonCondition((function(t){
/*! Match no more than once in session? */
return!(t.matchOnceInSession&&!t.disableOnUndo)||Object(c.a)().then((function(e){return!Object(l.a)(t,e.sessionUuid)}))})),i.addCommonCondition((function(t){
/*! Joined to rule target rooms? */
if(t.targetAnyRoom||null==t.targetRooms)return!0;for(var i=t.targetRooms,n=i.length-1;n>=0;n--)for(var o=e.rooms.length-1;o>=0;o--)if(i[n]===e.rooms[o])return!0;return!1})),i.setConditionType(n.ConditionTypes.VISITOR_CITY,(function(t){return t.toLowerCase()===e.locationCity.toLowerCase()})),i.setConditionType(n.ConditionTypes.VISITOR_COUNTRY,(function(t){return t.toLowerCase()===e.locationCountry.toLowerCase()})),i.setConditionType(n.ConditionTypes.VISIT_COUNT_MORE_THAN,(function(t){return m().then((function(e){return e>parseInt(t,10)}))})),i.setConditionType(n.ConditionTypes.VISIT_COUNT_LESS_THAN,(function(t){return m().then((function(e){return e<parseInt(t,10)}))})),i.setConditionType(n.ConditionTypes.VISITOR_PRIORITY_MORE_THAN,(function(e){if(!t.GiosgClient.priorityKnown)return!1;var i=t.GiosgClient.visitorPriority;return null==i&&(i=0),i>parseInt(e,10)})),i.setConditionType(n.ConditionTypes.VISITOR_PRIORITY_LESS_THAN,(function(e){var i=t.GiosgClient.visitorPriority;return null==i&&(i=0),i<parseInt(e,10)})),i.setConditionType(n.ConditionTypes.CSS_SELECTOR,(function(t){if(!d[t]){var e=setInterval((function(){var e=g[t];f(t)!==e&&i.refreshAllRules()}),1e3);d[t]=e}return f(t)})),i.setConditionType(n.ConditionTypes.PREVIOUS_PAGE_URL_REGEXP,(function(t){return new RegExp(t,"i").test(Object(h.a)())})),i.setConditionType(n.ConditionTypes.PREVIOUS_PAGE_URL_SIMPLE,(function(t){return-1!==Object(h.a)().indexOf(t)})),i.setConditionType(n.ConditionTypes.REFERRER_URL_REGEXP,(function(t){var e=new RegExp(t,"i");try{return Object(c.a)().then((function(t){return t.orig_ref_url&&e.test(t.orig_ref_url)}))}catch(t){return!1}})),i.setConditionType(n.ConditionTypes.REFERRER_URL_SIMPLE,(function(t){try{return Object(c.a)().then((function(e){return e.orig_ref_url&&-1!==e.orig_ref_url.indexOf(t)}))}catch(t){return!1}})),i.setConditionType(n.ConditionTypes.PAGE_URL_REGEXP,(function(t){return new RegExp(t,"i").test(e.pageUrl)})),i.setConditionType(n.ConditionTypes.PAGE_URL_SIMPLE,(function(t){return-1!==e.pageUrl.indexOf(t)})),i.setConditionType(n.ConditionTypes.DEVICE_TYPE,(function(t){var i=e.isMobile,n=e.isTablet,o=!i&&!n;return t&&t.split(",").some((function(t){return"desktop"===t&&o||"tablet"===t&&n||"mobile"===t&&i}))})),i.setConditionType(n.ConditionTypes.JS_FUNCTION_RETURNS_TRUE,(function(t){if("true"===t)return!0;try{return o(t)}catch(t){return void console.error("[Run Javascript condition error]",t)}})),i.setConditionType(n.ConditionTypes.CART_SIZE_MORE_THAN,(function(t){return e.api.shoppingCart.getTotalPrice()>parseInt(t,10)})),i.setConditionType(n.ConditionTypes.CART_SIZE_LESS_THAN,(function(t){return e.api.shoppingCart.getTotalPrice()<parseInt(t,10)})),i.setConditionType(n.ConditionTypes.PRODUCT_NAMES_IN_CART,(function(t){return e.api.shoppingCart.isProductInCart(t)})),i.setConditionType(n.ConditionTypes.PIPELINE_STEP,(function(){return!!e.pipeline&&null!=e.pipeline.getStep()})),i.setConditionType(n.ConditionTypes.PURCHASE_COUNT_MORE_THAN,(function(i){return(null==e.previousPurchases?Object(c.a)().then((function(){return e.previousPurchases})):t.jGiosg.when(e.previousPurchases)).then((function(t){return t>parseInt(i,10)}))})),i.setConditionType(n.ConditionTypes.VISITOR_IP_ADDR,(function(t){return new RegExp(t,"i").test(u.a||"")})),i.setConditionType(n.ConditionTypes.OPERATOR_PRESENCE,(function(i,n,o){var r=t.GiosgClient,a=o.targetAnyRoom?e.rooms:s()(e.rooms,o.targetRooms);return"online"===i?a.some((function(t){return r.isOperatorsOnlineByRoom[t]})):"offline"===i&&a.every((function(t){return!1===r.isOperatorsOnlineByRoom[t]}))})),i.setEventConditionType(n.ConditionTypes.CLICK_ELEMENT,(function(e,i){try{document.querySelector(e),t.jGiosg("html").on("click",e,(function(){i()}))}catch(t){throw new Error('Tried to use invalid selector on click element condition: "'+e+'"')}})),i.setEventConditionType(n.ConditionTypes.CLICK_BUTTON,(function(e,i){t.jGiosg("html").on("click",".giosg_button_settings_"+e,(function(){i()}))})),i.setConditionType(n.ConditionTypes.VISITOR_TARGETED,(function(t,i,n){var o=e.predictions||[],r=n.targetRooms.map(e.__fromGiosgToken);return o.some((function(t){return t.rule_id===n.id&&r.includes(t.room_id)}))})),i.setConditionType(n.ConditionTypes.AFTER_TIMEOUT,(function(t){var e=1e3*parseFloat(t);if(null!=e&&!isNaN(e)){var n=(new Date).getTime(),o=a+e;if(n>=o)return!0;setTimeout((function(){i.refreshAllRules()}),o-n+1)}return!1}));var p=null,_=1/0;function m(){return null==e.visitCount?Object(c.a)().then((function(){return e.visitCount})):t.jGiosg.when(e.visitCount)}i.setConditionType(n.ConditionTypes.WEEKLY_SCHEDULE,(function(t,e){var n=e.settings.serialized_intervals||[],o=Math.floor(((new Date).getTime()-a)/1e3),r=!!n.find((function(t){return t.start_time<=o&&t.end_time>o})),s=n.map((function(t){return t.start_time})),c=n.map((function(t){return t.end_time})),u=Math.min.apply(Math,s.concat(c).filter((function(t){return t>o})));if(u&&u!==1/0){var l=(new Date).getTime()+1e3*u;l<_&&(clearTimeout(p),_=l,p=setTimeout((function(){p=null,_=1/0,i.refreshAllRules()}),1e3*u))}return r})),i.setConditionType(n.ConditionTypes.VISITOR_CART_LOCKED,(function(){return!!e.__GIOSG_CONDITION_CART_LOCKED})),i.setConditionType(n.ConditionTypes.VISITOR_SENT_LEAD,(function(){return!!e.__GIOSG_CONDITION_LEAD_SENT})),i.setConditionType(n.ConditionTypes.VISITOR_HAS_WAITED_FOR,(function(e){var n=t.GiosgClient.activeChatWaitingTime;if(null!=n){var o=parseInt(e,10);return!!(n>=o)||(setTimeout((function(){return i.refreshAllRules()}),1e3*(o-n)),!1)}return!1})),i.setConditionType(n.ConditionTypes.VISITOR_HAS_WAITED_FOR_THE_FIRST_ANSWER,(function(e){var n=t.GiosgClient.activeChat,o=t.GiosgClient.activeChatWaitingTime;if(n&&null!=o&&0===n.user_message_count){var r=parseInt(e,10);return!!(o>=r)||(setTimeout((function(){return i.refreshAllRules()}),1e3*(r-o)),!1)}return!1})),i.setConditionType(n.ConditionTypes.HAS_CHATTED,(function(e,i,n){var o=e||(i.settings.isOnlyForRealChats?"real-chats":"all"),a=[];if("short-chats"===o)a=r()(t.GiosgClient.hasChattedRooms,t.GiosgClient.hasRealChattedRooms);else if("real-chats"===o)a=t.GiosgClient.hasRealChattedRooms;else{if("all"!==o&&void 0!==o&&""!==o)return console.error("The chatType "+o+" should never happen"),!1;a=t.GiosgClient.hasChattedRooms}return n.targetAnyRoom?a.length>0:n.targetRooms.some((function(t){return a.includes(t)}))})),i.setConditionType(n.ConditionTypes.CHAT_HAS_AT_LEAST_ONE_OF_TAGS,(function(t,i,n){var o=!1,r=[];if(e.chatTags){var a=JSON.parse(i.value);if(n.targetAnyRoom)r=e.chatTags;else{var s=n.targetRooms.map(e.__fromGiosgToken);r=e.chatTags.filter((function(t){return s.includes(t.room_id)}))}o=a.some((function(t){return r.some((function(e){return e.hashed_name===t}))}))}return o})),i.setConditionType(n.ConditionTypes.VISITOR_BELONGS_TO_A_TARGET_EXPERIMENT_GROUP,(function(i){return t.GiosgClient.getVisitorData().then((function(){return e.experimentGroups.some((function(t){return t.name===i}))}))})),i.setConditionType(n.ConditionTypes.VISITOR_BELONGS_TO_AN_USER_EXPERIMENT_GROUP,(function(i){return t.GiosgClient.getVisitorData().then((function(){return e.experimentGroups.some((function(t){return t.id===i}))}))})),i.setConditionType(n.ConditionTypes.TARGET_PREDICTION_CONVERSION_PROBABILITY,(function(t){return e.predictions.filter((function(e){return e.value.probability>parseInt(t,10)/100})).length})),i.setConditionType(n.ConditionTypes.AVERAGE_WAITING_TIME,(function(i,n,o){var r=o.targetAnyRoom?e.rooms:s()(e.rooms,o.targetRooms);function a(){return r.every((function(e){return e in t.GiosgClient.averageWaitingTimeByRoom}))}function c(){return r.some((function(e){return(t.GiosgClient.averageWaitingTimeByRoom[e]||0)>=i}))}if(a())return c();var u=t.jGiosg.Deferred();return function t(){setTimeout((function(){a()?u.resolve(c()):t()}),1e3)}(),u.promise()})),i.refreshAllRules()}},184:function(t,e,i){var n=i(63)(i(41),"Map");t.exports=n},185:function(t,e){t.exports=function(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}},198:function(t,e,i){var n=i(427),o=i(434),r=i(436),a=i(437),s=i(438);function c(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=r,c.prototype.has=a,c.prototype.set=s,t.exports=c},199:function(t,e,i){var n=i(448),o=i(124),r=i(207),a=r&&r.isTypedArray,s=a?o(a):n;t.exports=s},200:function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},205:function(t,e,i){var n=i(129),o=i(418),r=i(419),a=i(420),s=i(421),c=i(422);function u(t){var e=this.__data__=new n(t);this.size=e.size}u.prototype.clear=o,u.prototype.delete=r,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,t.exports=u},206:function(t,e){t.exports=function(t,e){for(var i=-1,n=e.length,o=t.length;++i<n;)t[o+i]=e[i];return t}},207:function(t,e,i){(function(t){var n=i(259),o=e&&!e.nodeType&&e,r=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=r&&r.exports===o&&n.process,s=function(){try{var t=r&&r.require&&r.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,i(127)(t))},211:function(t,e,i){var n=i(105),o=i(1009),r=i(92),a=i(1010),s=r((function(t){var e=n(t,a);return e.length&&e[0]===t[0]?o(e):[]}));t.exports=s},226:function(t,e,i){var n=i(439),o=i(46);t.exports=function t(e,i,r,a,s){return e===i||(null==e||null==i||!o(e)&&!o(i)?e!=e&&i!=i:n(e,i,r,a,t,s))}},227:function(t,e,i){var n=i(300),o=i(301),r=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return r.call(t,e)})))}:o;t.exports=s},228:function(t,e,i){var n=i(371);t.exports=function(t){var e=n(t),i=e%1;return e==e?i?e-i:e:0}},239:function(t,e,i){var n=i(249);t.exports=function(t,e){return!!(null==t?0:t.length)&&n(t,e,0)>-1}},240:function(t,e){t.exports=function(t,e,i){for(var n=-1,o=null==t?0:t.length;++n<o;)if(i(e,t[n]))return!0;return!1}},242:function(t,e,i){var n=i(156),o=i(239),r=i(240),a=i(105),s=i(124),c=i(157);t.exports=function(t,e,i,u){var l=-1,d=o,g=!0,f=t.length,h=[],p=e.length;if(!f)return h;i&&(e=a(e,s(i))),u?(d=r,g=!1):e.length>=200&&(d=c,g=!1,e=new n(e));t:for(;++l<f;){var _=t[l],m=null==i?_:i(_);if(_=u||0!==_?_:0,g&&m==m){for(var w=p;w--;)if(e[w]===m)continue t;h.push(_)}else d(e,m,u)||h.push(_)}return h}},249:function(t,e,i){var n=i(307),o=i(458),r=i(459);t.exports=function(t,e,i){return e==e?r(t,e,i):n(t,o,i)}},259:function(t,e,i){(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.exports=i}).call(this,i(57))},26:function(t,e){var i=Array.isArray;t.exports=i},260:function(t,e){var i=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},261:function(t,e,i){var n=i(156),o=i(296),r=i(157);t.exports=function(t,e,i,a,s,c){var u=1&i,l=t.length,d=e.length;if(l!=d&&!(u&&d>l))return!1;var g=c.get(t),f=c.get(e);if(g&&f)return g==e&&f==t;var h=-1,p=!0,_=2&i?new n:void 0;for(c.set(t,e),c.set(e,t);++h<l;){var m=t[h],w=e[h];if(a)var v=u?a(w,m,h,e,t,c):a(m,w,h,t,e,c);if(void 0!==v){if(v)continue;p=!1;break}if(_){if(!o(e,(function(t,e){if(!r(_,e)&&(m===t||s(m,t,i,a,c)))return _.push(e)}))){p=!1;break}}else if(m!==w&&!s(m,w,i,a,c)){p=!1;break}}return c.delete(t),c.delete(e),p}},262:function(t,e,i){var n=i(63)(i(41),"Set");t.exports=n},2820:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _tracker_tracker__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(729),_rule_engine__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1829),_utils_hash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1303),_utils_uuid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(68),_api_events__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2821),_rule_constants__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1520),_pipeline__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2822),_giosg_client__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2879),_api_goal__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2824),_api_cart__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2825),_api_visitor__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2826),_api_room__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2827),_api_chat__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2828),_api_async__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2829),_api_async__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_api_async__WEBPACK_IMPORTED_MODULE_13__),_api_apps_ts__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2830),_giosg_api__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2831),_giosg_api__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_giosg_api__WEBPACK_IMPORTED_MODULE_15__),_rule_conditions__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1834),_rule_actions__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1830),_rungiosg__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(737);Object(_rungiosg__WEBPACK_IMPORTED_MODULE_18__.a)();var giosg=window.giosg,jGiosg=window.jGiosg;giosg.tracker=new _tracker_tracker__WEBPACK_IMPORTED_MODULE_0__.a(giosg.trackerConfig.trackerUrl,{company:giosg.companyId,domain:giosg.domainId,client_version:"88ad58c902608198a7d40daaeae479d123e2469c",cid:_tracker_tracker__WEBPACK_IMPORTED_MODULE_0__.a.getVisitorIdForOrganization(giosg.companyId),gid:_tracker_tracker__WEBPACK_IMPORTED_MODULE_0__.a.getVisitorGlobalIdForOrganization(giosg.companyId),giosgSessionId:_tracker_tracker__WEBPACK_IMPORTED_MODULE_0__.a.getGiosgSessionIdForOrganization(giosg.companyId)});var evilEval=function(expr){return eval(expr)};giosg._.assign(giosg,{sha1:_utils_hash__WEBPACK_IMPORTED_MODULE_2__.a,__fromGiosgToken:_utils_uuid__WEBPACK_IMPORTED_MODULE_3__.fromGiosgToken,interactionRuntime:{},ruleEngine:new _rule_engine__WEBPACK_IMPORTED_MODULE_1__.a,pipeline:new giosg.GiosgPipeline(evilEval)}),Object(_rungiosg__WEBPACK_IMPORTED_MODULE_18__.b)(giosg,jGiosg),Object(_rungiosg__WEBPACK_IMPORTED_MODULE_18__.d)(giosg,giosg.liveChatConfig.chatbutton),"BackCompat"===document.compatMode&&console.error("Giosg script does not support Quirks Mode. Please include doctype at start of the page"),Object(_rungiosg__WEBPACK_IMPORTED_MODULE_18__.c)()&&Object(_rungiosg__WEBPACK_IMPORTED_MODULE_18__.e)(giosg,jGiosg),Object(_rule_conditions__WEBPACK_IMPORTED_MODULE_16__.a)(window,giosg,giosg.ruleEngine,evilEval),Object(_rule_actions__WEBPACK_IMPORTED_MODULE_17__.a)(window,giosg,giosg.ruleEngine,evilEval)},2821:function(t,e,i){"use strict";var n=i(1),o=function(){function t(){this.topics={},this.seed=null,this.subscriberId=0}return t.prototype.on=function(t,e){var i;if(!e)return null;var o=this.getToken(),r={token:o,handler:e};return this.topics[t]=Object(n.__spreadArrays)(null!==(i=this.topics[t])&&void 0!==i?i:[],[r]),"client:ready"===t&&"object"==typeof window.GiosgClient&&!0===window.GiosgClient.proxyReady&&setTimeout((function(){e.apply(e,[])}),0),o},t.prototype.off=function(t){if(!this.isToken(t))return this.topics[t]?(this.topics[t]=[],t):null;var e=Object.entries(this.topics).find((function(e){return e[1].some((function(e){return e.token===t}))})),i=e[0],n=e[1];return n?(this.topics[i]=n.filter((function(e){return e.token!==t})),t):null},t.prototype.trigger=function(t){for(var e=this,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return!!this.topics[t]&&(setTimeout((function(){e._trigger.apply(e,Object(n.__spreadArrays)([t],i))}),0),!0)},t.prototype._trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this.topics[t];null==n||n.forEach((function(t){t.handler.apply(t.handler,e)}))},t.prototype.getToken=function(){return this.subscriberId++,null==this.seed&&(this.seed=Math.random().toString(36).substr(2)),this.seed+this.subscriberId.toString()},t.prototype.isToken=function(t){return 0===t.toString().indexOf(this.seed)},t}();window.giosg=window.giosg||{},window.giosg.events=new o,window.giosg.on=window.giosg.events.on.bind(window.giosg.events),window.giosg.off=window.giosg.events.off.bind(window.giosg.events),window.giosg.trigger=window.giosg.events.trigger.bind(window.giosg.events)},2822:function(t,e,i){"use strict";var n=i(85);window.giosg=window.giosg||{};var o=function(){function t(t){var e=this;this.evalJs=t,this.selectorType={CSS:1,META_TAG:2,URL:3,PRODUCTS_IN_CART:4},this.pipelineInt=null,this.currentStep=null,this.startDeferred=window.jGiosg.Deferred(),this.isStarted=!1,this.startDeferred.done((function(){e.isStarted=!0}))}return t.prototype.start=function(){var t=this;try{window.giosg.pipelineSteps&&window.giosg.pipelineSteps.length>0&&null==this.pipelineInt&&(this.pipelineInt=window.setInterval((function(){t.checkPipeline()}),4e3),this.checkPipeline())}catch(t){}this.startDeferred.resolve()},t.prototype._cssMatches=function(t){var e=$();try{if(0===t.indexOf("javascript:")){var i=t.replace("javascript:","");e=this.evalJs(i)}else e=$(t)}catch(t){}return e.length>0},t.prototype._urlMatches=function(t){return(window.giosg.pageUrl||window.location.href).indexOf(t)>-1},t.prototype._metaTagMatches=function(t){return $('meta[name="'+t+'"]').length>0},t.prototype._productsInCartMatches=function(){var t,e=window.giosg.cartConfig?window.giosg.cartConfig.cartSelectors:null;if(window.giosg.api&&window.giosg.api.shoppingCart&&e&&e.name){var i=e.name,n=window.giosg.api.shoppingCart.selectorTypes;i.type===n.CSS?t=window.giosg.api.shoppingCart._runCssSelector(i.val):i.type===n.JS&&(t=window.giosg.api.shoppingCart._runJsSelector(i.val))}return(t||[]).length>0},t.prototype.getStep=function(){if(!window.giosg.pipelineSteps)return null;for(var t=0;t<window.giosg.pipelineSteps.length;t++){var e=window.giosg.pipelineSteps[t];if(e.selector_type===this.selectorType.CSS){if(this._cssMatches(e.selector))return e.step_id}else if(e.selector_type===this.selectorType.META_TAG){if(this._metaTagMatches(e.selector))return e.step_id}else if(e.selector_type===this.selectorType.URL){if(this._urlMatches(e.selector))return e.step_id}else{if(e.selector_type!==this.selectorType.PRODUCTS_IN_CART)throw new Error("Unknown selector type for pipeline!");if(this._productsInCartMatches())return e.step_id}}return null},t.prototype.checkPipeline=function(){var t=this,e=this.getStep();if(null!=e){t.currentStep!==e&&(this.currentStep=e,window.GiosgClient.initialPageViewTrackDeferred.then((function(){window.giosg.tracker.trackEvent(window.giosg.rooms,{se_category:"pipeline",se_action:"match",se_label:e,se_vendor:"com.giosg"}).then((function(){Object(n.e)("giosgchat:api_change")}))})))}},t}();window.giosg.GiosgPipeline=o},2823:function(t,e,i){"use strict";i.r(e),e.default='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M15.3 14.3a1 1 0 01-.71 1.7h-.18a1 1 0 01-.7-.3L12 14l-1.7 1.7a1 1 0 01-.71.3H9.4a1 1 0 01-.7-1.7l1.79-1.8-1.8-1.8A1 1 0 019.42 9h.18a1 1 0 01.7.3L12 11l1.7-1.7a1 1 0 01.71-.3h.18a1 1 0 01.7 1.7l-1.79 1.8 1.8 1.8z" fill="currentColor"/>\n</svg>\n'},2824:function(t,e,i){"use strict";var n=i(1),o=function(){function t(){}return t.prototype.isValidGoal=function(t){return null==t?void 0:t.toString().match(/^[0-9A-F]{8}-[0-9A-F]{4}-[1][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i)},t.prototype.getGoalName=function(t){var e=window.giosg.rules.find((function(e){return e.id===t}));return null==e?void 0:e.name.replace(/^Goal: /,"")},t.prototype.track=function(t,e){return Object(n.__awaiter)(this,void 0,void 0,(function(){var i,o,r,a,s;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return i=window.GiosgClient,o=window.giosg,r=this.getGoalName(t),a=r?r+":"+t:t,[4,o.tracker.trackGoal(t,e)];case 1:return n.sent(),s=(null==e?void 0:e.value)||1,i._trackGoogleAnalytics("visitorReachedGoal",a,{goalName:r,goalId:t},s,!1),[2]}}))}))},t.prototype.matches=function(t,e){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(i){return this.isValidGoal(t)?[2,this.track(t,e)]:[2,Promise.reject()]}))}))},t}();window.giosg=window.giosg||{},window.giosg.api=window.giosg.api||{},window.giosg.api.goal=new o},2825:function(module,__webpack_exports__,__webpack_require__){"use strict";var _helpers_corsHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(85);!function(window){window.giosg.api=window.giosg.api||{},window.giosg.api.shoppingCart={selectorTypes:{DISABLED:0,CSS:1,URL:3,JS:4},_products:[],_currency:null,_total_price:null,_monthly_total_price:null,_cart_identifier:null,_defaultIntervalMs:1e3,_errorIntervalMs:1e3,_tryCount:0,_previous_data_string:null,_calculateCartTotal:function(){if(null!=this._total_price)return parseFloat(this._total_price);for(var t=0,e=0;e<this._products.length;e++){var i=this._products[e];null!=i.price&&(null!=i.quantity?t+=parseFloat(i.quantity)*parseFloat(i.price):t+=parseFloat(i.price))}return t},getTotalPrice:function(){var t=parseFloat(window.sessionStorage["giosg_"+window.giosg.domainId+"_cart"]);return isNaN(t)?0:t},setCurrency:function(t){this._currency=t},setTotalPrice:function(t){t=t.toString().replace(",","."),this._total_price=t.toString()},setCartId:function(t){this._cart_identifier=t},setMonthlyTotal:function(t){t=t.toString().replace(",","."),this._monthly_total_price=t.toString()},addProduct:function(t){if(null==t||!t.name)throw new Error("Cannot add product without name.");return null!=t.price&&(t.price=t.price.toString().replace(",",".")),this._products.push(t),t},deleteProducts:function(){this._products=[]},_resetParams:function(){this.deleteProducts(),this._total_price=null,this._monthly_total_price=null},_getCurrency:function(){return this._currency?this._currency:window.giosg.cartConfig.cartSettings&&window.giosg.cartConfig.cartSettings.currency?window.giosg.cartConfig.cartSettings.currency:window.giosg.defaultCurrency?window.giosg.defaultCurrency:"EUR"},getCart:function(){return{products:this._products,product_count:this._products.length,currency:this._getCurrency(),total_price:null!=this._total_price?this._total_price.toString():"",monthly_total_price:null!=this._monthly_total_price?this._monthly_total_price.toString():"",cart_identifier:this._cart_identifier,rooms:window.giosg.rooms}},submit:function(t){var e=this;if(0===e._products.length&&!t){var i=window.jGiosg.Deferred();return i.resolve({detail:"No products to submit!"}),i.promise()}return t&&t instanceof Array&&(e.deleteProducts(),window.giosg._.forEach(t,(function(t){e.addProduct(t)}))),window.GiosgClient.initialPageViewTrackDeferred.then((function(){return window.GiosgClient.getDomainRoom()}),(function(){return window.GiosgClient.getDomainRoom()})).then((function(t){var i=e.getCart();i.room=t;var n=JSON.stringify(i);if(e._previous_data_string===n)return e._resetParams(),window.jGiosg.when({detail:"No changes in data"});window.sessionStorage&&window.giosg.domainId&&(window.sessionStorage.setItem("giosg_"+window.giosg.domainId+"_cart",e._calculateCartTotal().toString()),window.sessionStorage.setItem("giosg_"+window.giosg.domainId+"_cart_products",JSON.stringify(e._products)));try{return Object(_helpers_corsHelper__WEBPACK_IMPORTED_MODULE_0__.e)("giosgchat:api_cart_submit",i).then((function(){return e._previous_data_string=n,e._resetParams(),window.giosg.ruleEngine.refreshAllRules(),window.giosg.tracker.trackEvent(window.giosg.rooms,{se_category:"shopping_cart",se_action:"update"}),window.jGiosg.Deferred().resolve({detail:"Data submitted"}).promise()}),(function(){return e._resetParams(),window.jGiosg.Deferred().reject({detail:"Failed to submit data"}).promise()}))}catch(t){return e._resetParams(),e._previous_data_string=null,window.jGiosg.Deferred().reject({detail:"postMessage failed"}).promise()}}))},clearCart:function(){var t=this;return window.GiosgClient.initialPageViewTrackDeferred.then((function(){return window.GiosgClient.getDomainRoom()}),(function(){return window.GiosgClient.getDomainRoom()})).then((function(e){var i=t.getCart();i.room=e;var n=JSON.stringify(i);if(t._previous_data_string===n)return t._resetParams(),window.jGiosg.when({detail:"No changes in data"});window.sessionStorage&&window.giosg.domainId&&(window.sessionStorage.setItem("giosg_"+window.giosg.domainId+"_cart",void 0),window.sessionStorage.setItem("giosg_"+window.giosg.domainId+"_cart_products",void 0));try{return Object(_helpers_corsHelper__WEBPACK_IMPORTED_MODULE_0__.e)("giosgchat:api_cart_clear",{room:e}).then((function(){return t._previous_data_string=n,t._resetParams(),window.giosg.ruleEngine.refreshAllRules(),window.giosg.pipelineSteps&&window.giosg._.some(window.giosg.pipelineSteps,(function(t){return 4===t.selector_type}))&&window.window.giosg.tracker.trackEvent(window.giosg.rooms,{se_category:"pipeline",se_action:"match",se_label:null,se_vendor:"com.giosg"}).then((function(){Object(_helpers_corsHelper__WEBPACK_IMPORTED_MODULE_0__.e)("giosgchat:api_change")})),window.jGiosg.Deferred().resolve({detail:"Cart cleared"}).promise()}),(function(){return window.jGiosg.Deferred().reject({detail:"Failed to clear cart"}).promise()}))}catch(e){return t._previous_data_string=null,window.jGiosg.Deferred().reject({detail:"postMessage failed"}).promise()}}))},freeze:function(){return window.GiosgClient.getDomainRoom().then((function(t){var e={room:t,rooms:window.giosg.rooms};return Object(_helpers_corsHelper__WEBPACK_IMPORTED_MODULE_0__.e)("giosgchat:api_cart_freeze",e).then((function(t){return t.cart&&(window.giosg.__GIOSG_CONDITION_CART_LOCKED=!0,window.giosg.ruleEngine.refreshAllRules(),window.window.giosg.tracker.trackEvent(window.giosg.rooms,{se_category:"shopping_cart",se_action:"lock",se_label:t.cart.cart_id,event_meta:t.cart})),window.jGiosg.Deferred().resolve({freezed:!0}).promise()}),(function(){return window.jGiosg.Deferred().reject({freezed:!1}).promise()}))}))},canRunSelectors:function(){return null!=window.giosg.cartConfig&&null!=window.giosg.cartConfig.cartSelectors&&!!window.giosg.cartConfig.cartSelectors.successPage.val},executeSelectors:function(){if(this.canRunSelectors())return this.isOnSuccessPage()?this.freeze():this.runCartSelectors();var t=window.jGiosg.Deferred();return t.reject({stop_execution:!0,detail:"Selectors not configured"}),t.promise()},_addMatchingProductsToCart:function(){for(var t=window.giosg.cartConfig.cartSelectors,e={},i=[],n=this._getUsedSelectors(t),o=0;o<n.length;o++){var r=t[l=n[o]].type,a=t[l].val;r===this.selectorTypes.DISABLED||(r===this.selectorTypes.CSS?e[l]=this._runCssSelector(a):r===this.selectorTypes.JS?e[l]=this._runJsSelector(a):console&&console.log("Unknown selector type in window.giosg.cartConfig.cartSelectors["+l+"]: "+t[l].type))}if(null!=e.name&&void 0!==e.name)for(var s=0;s<e.name.length;s++){for(var c={},u=0;u<n.length;u++){var l;if(null!=e[l=n[u]]&&void 0!==e[l]){if(e.name.length!==e[l].length){console.log('[warning] window.giosg.api.shoppingCart cannot map data. Selector "name" result length differs from selector "'+l+'"');break}c[l]=e[l][s]}}i.push(c),this.addProduct(c)}return i},hasCartDataToSubmit:function(){return!!(this._products&&this._products.length||parseFloat(this._total_price)||parseFloat(this._monthly_total_price))},runCartSelectors:function(){var t=window.giosg.cartConfig.cartSelectors;return this._addMatchingProductsToCart(),this._runTotalPrice(t.totalSum.val,t.totalSum.type),t.monthly_total&&this._runMonthlyTotal(t.monthly_total.val,t.monthly_total.type),this._runCurrencySelector(t.currency),this.hasCartDataToSubmit()?this.submit():this.clearCartMatches()?this.clearCart():window.jGiosg.Deferred().reject({}).promise()},startSelectorExecutionInterval:function(){var t=this;t.executeSelectors().then((function(e){"freezed"in e&&e.freezed||setTimeout((function(){t.startSelectorExecutionInterval()}),t._defaultIntervalMs)}),(function(e){var i=Math.pow(2,t._tryCount);t._tryCount=t._tryCount+1,e.stop_execution||setTimeout((function(){t.startSelectorExecutionInterval()}),t._errorIntervalMs*i)}))},_pageContainsSelectorMatch:function(t,e){return e===this.selectorTypes.CSS?(0===t.indexOf("javascript:")?this._runJsSelector(t.replace("javascript:","")):window.jGiosg(t)).length>0:e===this.selectorTypes.JS?this._runJsSelector(t).length>0:e===this.selectorTypes.URL?new RegExp(""+t,"i").test(window.giosg.pageUrl):void 0},isOnSuccessPage:function(){var t=window.giosg.cartConfig.cartSelectors;return!(!t||!t.successPage)&&this._pageContainsSelectorMatch(t.successPage.val,t.successPage.type)},clearCartMatches:function(){var t=window.giosg.cartConfig.cartSelectors;return!(!t||!t.clear_cart)&&this._pageContainsSelectorMatch(t.clear_cart.val,t.clear_cart.type)},isProductInCart:function(t){return!!JSON.parse(window.sessionStorage.getItem("giosg_"+window.giosg.domainId+"_cart_products")).find((function(e){if(new RegExp(""+t,"i").test(e.name))return!0}))},getValueFromElement:function(){var t=window.jGiosg(this).is("input")?window.jGiosg(this).val():window.jGiosg(this).text();return window.jGiosg.trim(t.toString())},_runJsSelector:function(expr){var res;try{res=eval(expr),res=window.jGiosg(res)}catch(t){window.console&&console.warn&&console.warn("giosg: Failed to evaluate cart selector: ",t),res=window.jGiosg()}return res.map(this.getValueFromElement)},_runCssSelector:function(t){var e;if(0===t.indexOf("javascript:"))try{return this._runJsSelector(t.replace("javascript:",""))}catch(t){console.log("giosg: Failed to evaluate cart selector"),e=window.jGiosg()}else e=window.jGiosg(t);return e.map(this.getValueFromElement)},_runCurrencySelector:function(t){if(t&&t.type!==this.selectorTypes.DISABLED){var e=null;t.type===this.selectorTypes.CSS?e=this._runCssSelector(t.val):t.type===this.selectorTypes.JS&&(e=this._runJsSelector(t.val));var i=e?e[0]:null;this.setCurrency(i)}},_runSumSelector:function(t,e){var i=null;return e===this.selectorTypes.CSS?i=this._runCssSelector(t):e===this.selectorTypes.JS&&(i=this._runJsSelector(t)),i&&i.length?i[0]:null},_runMonthlyTotal:function(t,e){var i=null;e!==this.selectorTypes.DISABLED&&null!==(i=this._runSumSelector(t,e))&&(i=i.replace(" ","").match(/(\d+[,.]*\d+|\d+)/g),this.setMonthlyTotal(i))},_runTotalPrice:function(t,e){var i=null;e!==this.selectorTypes.DISABLED&&null!==(i=this._runSumSelector(t,e))&&(i=i.replace(" ","").match(/(\d+[,.]*\d+|\d+)/g),this.setTotalPrice(i))},_getUsedSelectors:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&"currency"!==i&&"totalSum"!==i&&"successPage"!==i&&"clear_cart"!==i&&"monthly_total"!==i&&e.push(i);return e}}}(window)},2826:function(t,e,i){"use strict";var n=i(1),o=i(85),r=i(574),a=i(345);function s(t,e){return Object(n.__awaiter)(this,void 0,Promise,(function(){var i,o,r,a=this;return Object(n.__generator)(this,(function(s){switch(s.label){case 0:return null!=t?[3,3]:[4,window.GiosgClient.getDomainRoom()];case 1:return i=s.sent(),[4,e(i)];case 2:return[2,[s.sent()]];case 3:return o=Array.isArray(t)?t:[t],r=[],o.forEach((function(t){var i=t.id,o=t.name;if(null==i&&null!=o){r.push(Object(n.__awaiter)(a,void 0,void 0,(function(){var t;return Object(n.__generator)(this,(function(i){switch(i.label){case 0:return[4,window.giosg.api.room._getRoomIdsByNames(o)];case 1:return(t=i.sent().rooms).length?[4,e(t[0].id)]:[2,{detail:"Room not found by name!",room_name:o}];case 2:return[2,i.sent()]}}))})))}else{if(null!=o||null==i)return Promise.reject({detail:"Missing name or id atribute.",data:t});r.push(e(i))}})),[2,Promise.all(r)]}}))}))}var c=function(){function t(){this.fetch=r.b,this.getRoomVisitorVariableUrl=function(t){var e=window.giosg;return e.protocol+"//"+e.baseDomain+"/giosg_api/visitor/"+e.visitorCid+"/"+t+"/"}}return t.prototype.remove=function(t){return Object(n.__awaiter)(this,void 0,void 0,(function(){var e;return Object(n.__generator)(this,(function(i){switch(i.label){case 0:return[4,window.GiosgClient.getDomainRoom()];case 1:return e=i.sent(),[2,this.removeVisitorVariable(e,{key:t})]}}))}))},t.prototype.removeAll=function(t){return Object(n.__awaiter)(this,void 0,void 0,(function(){var e=this;return Object(n.__generator)(this,(function(i){return[2,s(t,(function(t){return e.removeVisitorVariable(t,{deleteAll:!0})}))]}))}))},t.prototype.submit=function(t,e,i,r){return Object(n.__awaiter)(this,void 0,void 0,(function(){var a,c=this;return Object(n.__generator)(this,(function(u){return t?(a=null!=e?e:"plain",window.giosg.trigger("visitor:data",{data:t,algo:a,uid:window.giosg.visitorCid}),[2,s(r,(function(e){return Object(n.__awaiter)(c,void 0,void 0,(function(){var r=this;return Object(n.__generator)(this,(function(s){return window.GiosgClient.initialPageViewTrackDeferred.always((function(){return Object(n.__awaiter)(r,void 0,void 0,(function(){var r,s,c,u,l;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:r=this.getRoomVisitorVariableUrl(e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fetch(r,{method:"POST",body:JSON.stringify({data:t,algo:a,replace:i})},window.giosg.version)];case 2:return s=n.sent(),Object(o.e)("giosgchat:api_change"),[2,s];case 3:return c=n.sent(),u={detail:null!==(l=null==c?void 0:c.responseText)&&void 0!==l?l:"Failed to save api data."},[2,Promise.reject(u)];case 4:return[2]}}))}))})),[2]}))}))}))]):[2,Promise.reject({detail:"No data to submit"})]}))}))},t.prototype.setIdentifier=function(t){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(e){switch(e.label){case 0:return[4,Object(a.a)()];case 1:return e.sent(),[2,Object(o.e)("giosgchat:custom_identity_change",{identifier:t,session_id:window.giosg.sessionUuid})]}}))}))},t.prototype.removeVisitorVariable=function(t,e){var i=e.key,r=e.deleteAll;return Object(n.__awaiter)(this,void 0,void 0,(function(){var e,a,s;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return e=this.getRoomVisitorVariableUrl(t),a=JSON.stringify({key:i,delete_all:!!r}),[4,this.fetch(e,{method:"DELETE",body:a},window.giosg.version)];case 1:return s=n.sent(),Object(o.e)("giosgchat:api_change"),[2,s]}}))}))},t}();window.giosg=window.giosg||{},window.giosg.api=window.giosg.api||{},window.giosg.api.visitor=new c},2827:function(t,e,i){"use strict";var n=i(1),o=i(574),r=i(338),a=function(){function t(){this.fetch=o.b,this._joinedRooms=[]}return t.prototype._getRoomIdsByNames=function(t){return Object(n.__awaiter)(this,void 0,void 0,(function(){var e,i,o,r,a,s,c,u,l,d;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return e=Array.isArray(t)?t:[t],i=window.giosg,o=i.protocol,r=i.baseDomain,a=o+"//"+r+"/giosg_api/roomids/",s=window.giosg,c=s.companyId,u=s.domainId,l=s.version,d=JSON.stringify({rooms:e,company:c,domain:u}),[4,this.fetch(a,{method:"POST",body:d},l)];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()]}}))}))},t.prototype.join=function(t){return Object(n.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,c,u,l=this;return Object(n.__generator)(this,(function(d){switch(d.label){case 0:return e=window.giosg,i=window.GiosgClient,o=[],t?(a=Array.isArray(t)?t:[t],s=[],c=function(t){return Object(n.__awaiter)(l,void 0,void 0,(function(){var e,i;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return[4,this._getRoomIdsByNames(t)];case 1:return(e=n.sent()).rooms.length?(i=e.rooms[0].id,s.push(i),[2]):[2,Promise.reject({detail:"Room not found by name!",room_name:name})]}}))}))},a.forEach((function(t){var e=t.id,n=t.name,r=t.setAsDefault;if(null==e&&null!=n)o.push(c(n));else{if(null==e||null!=n)return Promise.reject({detail:"Missing name or id attribute.",data:t});s.push(e),r&&i.setDefaultChatButtonTarget(e)}})),[4,Promise.all(o)]):[2,Promise.reject({detail:"No room information"})];case 1:return d.sent(),s.length&&((u=this._joinedRooms).push.apply(u,s),Object(r.a)(s,e.ruleEngine)),e.trigger("room:join",t),[2]}}))}))},t.prototype.leave=function(t){return Object(n.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,c,u=this;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return e=window.giosg.ruleEngine,i=!t||!Object.keys(t).length,o=null==(null==t?void 0:t.id)&&null!=(null==t?void 0:t.name),i?(a=this._joinedRooms,[3,5]):[3,1];case 1:return o?[4,this._getRoomIdsByNames(t.name)]:[3,3];case 2:return s=n.sent().rooms.map((function(t){return t.id})),[3,4];case 3:s=[t.id],n.label=4;case 4:a=s,n.label=5;case 5:return c=a.filter((function(t){return u._joinedRooms.includes(t)})),this._joinedRooms=this._joinedRooms.filter((function(t){return!c.includes(t)})),Object(r.e)(c,e),window.giosg.trigger("room:leave",t),[2]}}))}))},t}();window.giosg=window.giosg||{},window.giosg.api=window.giosg.api||{},window.giosg.api.room=new a},2828:function(t,e,i){"use strict";var n=i(1),o=i(85),r=function(){function t(){}return t.prototype.close=function(t){return void 0===t&&(t={}),Object(n.__awaiter)(this,void 0,Promise,(function(){var e,i,r,a,s,c,u,l,d;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:e=window.giosg,i=e.api.room,r=t.name,a=t.id,t.clearHistory=!!t.clearHistory,s=null==a&&null!=r,c=null==r&&null!=a,n.label=1;case 1:return n.trys.push([1,5,6,7]),s?[4,i._getRoomIdsByNames(r)]:[3,3];case 2:if(!(u=n.sent().rooms).length)throw new Error("Parent room not found!");return l=u[0],t.parent=l.id,[3,4];case 3:c?t.parent=a:t.all=!0,n.label=4;case 4:return Object(o.e)("giosgchat:close_chat_session",t),e.trigger("chat:close",t),[3,7];case 5:return d=n.sent(),[2,Promise.reject(d)];case 6:return t.hide&&this.hide(),[7];case 7:return[2]}}))}))},t.prototype.hide=function(){window.GiosgClient.hideClient()},t.prototype.startTask=function(t,e,i,n){void 0===e&&(e=void 0),void 0===i&&(i=!1),void 0===n&&(n={});var r=window.GiosgClient,a=r.joinedRooms,s=Object.assign({type:"msg"},t);if(!e){var c=a.filter((function(t){return r.isOperatorsOnlineByRoom[t]})).pop(),u=a[a.length-1];if(!(e=c||u))throw new Error("Internal error: not able to detect room")}var l={initialMessage:s,roomId:e,anonymous:i,visitorVariables:n};return Object(o.e)("giosgchat:start_task",l)},t}();window.giosg=window.giosg||{},window.giosg.api=window.giosg.api||{},window.giosg.api.chat=new r},2829:function(t,e){function i(t){var e=t[0],i=t[1],n=t.slice(2);if("function"!=typeof e){var o=window.giosg.api[e];if(o){var r=o[i];r?r.apply(o||window,n):console.error("giosg: Could not find "+e+" api method with name: "+i)}else console.error("giosg: Could not find api with name: "+e)}else e(window.giosg.api)}window.giosg.on("client:ready",(function(){var t=(window._giosg._e||[]).map((function(t){return Array.from(t)}));null==t||t.forEach(i),window._giosg=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)}}))},2830:function(module,__webpack_exports__,__webpack_require__){"use strict";var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),AppsApi=function(){function AppsApi(){}return AppsApi.prototype.init=function(){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this,void 0,void 0,(function(){var t;return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.readyWait(3e4)];case 1:return e.sent(),this.autoloadAssets(),[3,3];case 2:return t=e.sent(),console.log("giosg.apps Error: ready wait timeout exceeded"),[2,Promise.reject(t)];case 3:return[2]}}))}))},AppsApi.prototype.readyWait=function(t){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this,void 0,void 0,(function(){var e,i;return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this,(function(n){return 50,e=0,i=setInterval((function(){return void 0!==window.giosg.apps?(clearInterval(i),Promise.resolve()):e>=t?(clearInterval(i),Promise.reject()):void(e+=50)}),50),[2]}))}))},AppsApi.prototype.injectAssets=function(t,e){var i="s"===t||"script"===t;if(!i&&!("c"===t||"css"===t))return Promise.reject();var n=i?"script":"style",o=i?{type:"text/javascript",async:!0,src:e}:{type:"text/css",rel:"stylesheet",href:e},r=document.createElement(n);for(var a in o)r.setAttribute(a,o[a]);return document.getElementsByTagName("head")[0].appendChild(r),new Promise((function(t){return r.onload=t}))},AppsApi.prototype.loadAssets=function(t,e){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this,void 0,void 0,(function(){var i,n;return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this,(function(o){switch(o.label){case 0:i=window.giosg,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.injectAssets("script",t.visitor_assets_url)];case 2:return o.sent(),i.nAppsLoaded+=1,e&&i.api.apps.executeCommand(t.visitor_init_command),[3,4];case 3:return n=o.sent(),console.log("Failed to load giosgapp assets"),[2,Promise.reject(n)];case 4:return[2]}}))}))},AppsApi.prototype.autoloadAssets=function(){var t=window.giosg;"object"==typeof t.apps&&(t.nAppsLoaded=0,t.apps.forEach((function(e){var i=e.visitor_assets_url;e.visitor_assets_autoload&&"string"==typeof i&&(i.startsWith("http")||i.startsWith("//"))&&t.api.apps.loadAssets(e,!0)})))},AppsApi.prototype.executeCommand=function(command){if("string"==typeof command&&""!==command)try{eval(command)}catch(t){console.log("Giosg app init Error: "+t.message)}},AppsApi}();window.giosg=window.giosg||{},window.giosg.api=window.giosg.api||{},window.giosg.api.apps=new AppsApi},2831:function(t,e){window.giosg.api=window.giosg.api||{},window.jGiosg(document).ready((function(){window.giosg.on("client:ready",(function(){if(null!=window.giosg._on_api_ready){for(var t=0;t<window.giosg._on_api_ready.length;t++)window.giosg._on_api_ready[t]();window.giosg._on_api_ready=[]}window.giosg.api.shoppingCart&&(null!=window.giosg.cartConfig&&null!=window.giosg.cartConfig.cartSettings&&window.giosg.api.shoppingCart.setCurrency(window.giosg.cartConfig.cartSettings.currency),window.giosg.api.shoppingCart.startSelectorExecutionInterval())}))}))},2879:function(t,e,i){"use strict";function n(t,e){return[t,e].reduce((function(t,e){return t.filter((function(t){return e.includes(t)}))}))}var o=i(85),r=i(488),a=i(1308),s=i(574),c=i(338),u=i(730),l=i(575),d=i(345),g=i(737),f=i(1462).default,h=i(2823).default,p=i(1278).GiosgStyleEngine,_=i(1504),m=_.disableBodyScroll,w=_.enableBodyScroll,v=i(378),y=v.isLightColor,b=v.changeLightness;i(1505);
/*!
 * Giosg client all rights reserved
 */
window.giosg=window.giosg||{},window.giosg.GiosgClient=function(t){var e=this;this.joinedRooms=c.d;var i=new p,_=this,v=t.rulesConfig.actionTypes;this.deferredAutosuggestPermissions={},this.appendedCssPromisesByClassName={},this.initialPageViewTrackDeferred=Object(l.b)(),this.visitorCidDeferred=Object(d.d)(),this.visitorGidDeferred=window.jGiosg.Deferred(),this.targetTokenDeferred=window.jGiosg.Deferred(),this.forcedChatButtonTarget=null,this.forcedChatButtonText=null,this.chatButtonSettingsLoadsById={},this.leadFormPromisesById={},this.leadFormDialogPromisesById={},this.visibleDialogElements=window.jGiosg(),this.dialogTemplateCache={},this.windowResizeTimer=null,this.tabKey=r.f,this.cfg=t,this.clientConfig=t.liveChatConfig,this.proxyReady=!1,this.isDialogVisible=!0,this.visitorIdleTimeout=40,this.visitorActiveCheckInt=3e3,this.visitorLastActiveTs=new Date,this.isOperatorsOnline=null,this.isOperatorsOnlineByRoom={},this.averageWaitingTimeByRoom={},this.snoopedRoomsOnlineStatus={},this.chatButtonId="giosg_chat_now_button";var A=Object(r.b)();this.staticBaseUrl=Object(r.e)(),this.domainLogo=null!=this.clientConfig.logoPath?this.clientConfig.logoPath:null,this.lastIdleSent=0,this.lastActivateEvent=0,this.activateEventInterval=20,this.lastMessageFrom=null,this.customButton={},this._customElements={},this._customElements.onlineElementSelector=""!==this.clientConfig.customElemOnline?this.clientConfig.customElemOnline:null,this._customElements.offlineElementSelector=""!==this.clientConfig.customElemOffline?this.clientConfig.customElemOffline:null,this.dialogEmbedTargetSelector=".giosg-chat-embed-placeholder",this.enableDialogEmbedMode=window.jGiosg(this.dialogEmbedTargetSelector).length>0,this.ops=[],this.visitorPriority=null,this.priorityKnown=!1;var T="giosg_operator_state_cache_"+this.cfg.companyId,C="giosg_trgop_"+this.cfg.companyId;function E(t){var e=t.clone();return window.giosg.isMobile||window.giosg.isTablet?e.empty():(e.find("#giosg_live_chat_container").empty(),e.find("iframe").removeAttr("src").remove()),e.appendTo("body"),e}function O(){_.clientConfig.chatDialogTitle=_.clientConfig.dialog.config.titleText;var t={lastMessageFrom:_.lastMessageFrom,config:_.clientConfig,dialog:_.clientConfig.dialog,domainLogo:_.clientConfig.dialog.footer_logo_asset&&_.clientConfig.dialog.footer_logo_asset.url||_.domainLogo};return window.giosg._.template(_.clientConfig.dialog.template_main_dialog)(t)}function S(t){var e=_.getViewportSize(),i=parseInt(t.css("top").replace("px",""),10),n=parseInt(t.css("left").replace("px",""),10);if(i>e.height-366){var o=e.height-366;o<0&&(o=0),t.css("top",o+"px")}if(n>e.width-307){var r=e.width-307;r<0&&(r=0),t.css("left",r+"px")}}function R(){_.windowResizeTimer&&clearTimeout(_.windowResizeTimer),_.windowResizeTimer=window.setTimeout((function(){_.isNewMobileChat||_.visibleDialogElements.add(_.Dialog).each((function(){S(window.jGiosg(this))}))}),100)}function j(){var t=window.innerWidth,e=t>window.innerHeight?640:480;return Math.max(1,t/e)}function I(){var t=j();window.jGiosg("#"+_.chatButtonId).css("zoom",t)}this.Dialog=null,this.unreadMessageCount=0,this._corsMessageQueue=[],this._corsQueries={},this._corsQueryCounter=0,this.isNewMobileChat=(window.giosg.isMobile||window.giosg.isTablet)&&this.cfg.isMobileChatInSameTab,this.activeChat=null,this.init=function(){var t=window.jGiosg(window),e=window.jGiosg(document),i=window.jGiosg.Deferred();if(_.loadDialogTemplate(window._giosg._draft_dlg_id||_.clientConfig.dialogId).then((function(n){_.clientConfig.dialog=n,window.jGiosg((function(){_.cfg.flag_use_new_iframe_domain||_.performIframeProbe(),_.addCorsHandlers(),_.addEventHandlers(),_._includeThemeCss(),_.isDialogVisible=!1,window.giosg.isMobile||window.giosg.isTablet?_.Dialog=_.createMobileChatDialog().appendTo("body"):(_.Dialog=_.createChatDialog("giosg_live_chat_dialog",!_.enableDialogEmbedMode),_.enableDialogEmbedMode?(window.jGiosg(_.dialogEmbedTargetSelector).empty(),_.Dialog.appendTo(_.dialogEmbedTargetSelector),_.Dialog.css({position:"static",top:"inherit",left:"inherit"})):_.Dialog.appendTo("body")),_.customButton.init(),_._customElements.init(),_._getCachedOperatorStatus()&&_._customElements.show(),_.toggleOperatorChatbuttons([]),_.showStatus("online"),(window.giosg.isMobile||window.giosg.isTablet)&&I()})),t.on("resize",R),(window.giosg.isMobile||window.giosg.isTablet)&&t.on("scroll",I),e.on("keyup mousemove scroll",window.giosg._.debounce((function(){_.visitorLastActiveTs=new Date}),500)),Object(l.b)().always((function(){setInterval((function(){_.isVisitorActive()?(Object(o.e)("giosgchat:visitor_active",{}),window.giosg.trigger("visitor:active")):(Object(o.e)("giosgchat:visitor_idle",{}),window.giosg.trigger("visitor:idle"))}),_.visitorActiveCheckInt)})),_.clientConfig.enableAjaxAppTracking&&_.startSinglePageAppTracking(),window.giosg.pipeline.start(),i.resolve()})),_.cfg.useVisitorSideWebrtcPlugin){var n=_.cfg.protocol+"//"+_.cfg.baseDomain+"/bar/visitorwebrtc.master.js",r=document.createElement("script");r.src=n,document.body.appendChild(r)}return i.promise()},this.showElementAnimated=function(t,e,i){var n=window.jGiosg.Deferred(),o=!1,r=null,a={},s=E(t),c=e&&!0!==e?e:_.clientConfig.dialog.config.showAnimation;return null==i&&(i=_.clientConfig.dialog.config.showAnimationDuration),i=parseInt(i.toString(),10),e&&null!=c&&("fade"===c?t.css("opacity",0).animate({opacity:1},i).promise().then(n.resolve,n.reject):"blind vertical"===c?(r="blind",a={mode:"show",direction:"vertical"}):"blind horizontal"===c?(r="blind",a={mode:"show",direction:"horizontal"}):"bounce"===c||"clip"===c||"scale"===c?(r=c,a={}):-1!==c.indexOf("drop")?(r="drop",a={direction:c.substr(5)}):"explode"===c?(r=c,a={pieces:16}):"fold"===c?(r=c,a={size:38}):"highlight"===c?(o=!0,s.show(),s.effect(c,{},i,n.resolve)):"puff"===c?(r=c,a={percent:200}):"pulsate"===c?(r=c,a={times:3}):"shake"===c?(r=c,a={direction:"left",timed:3,distance:20}):-1!==c.indexOf("slide")&&(r="slide",a={direction:c.substr(6)})),o||(null!=r?s.show(r,a,i,n.resolve):n.resolve()),n.promise().then((function(){return s.remove(),t.show(),t}))},this.openChatDialog=function(t){if(e.isNewMobileChat)e.isDialogVisible=!0,e.mobileChatDialog.show();else if(!window.giosg.isMobile&&!window.giosg.isTablet&&!e.isDialogVisible){e.isDialogVisible=!0;var i=e.visibleDialogElements.last().get(0);i&&e.setDialogPositionNextTo(e.Dialog,i),e.visibleDialogElements=e.visibleDialogElements.add(e.Dialog),window.giosg.trigger("chatwindow:open"),e.showElementAnimated(e.Dialog,t).then((function(){Object(o.e)("giosgchat:chat_window_visible")}))}},this.showClient=function(t,e,i){var n=window.giosg.isMobile||window.giosg.isTablet;n&&_.clearUnreadMessages(),n&&!this.isNewMobileChat?function(t){(t?window.jGiosg.when(t):_.getDomainRoom()).then((function(t){var e=Object(r.a)(!0,{parent_room:t});!_.chatWindow||_.chatWindow.closed||_.chatWindow.close(),_.chatWindow=window.open(e,"giosg_mobile_chat_window")}))}(e):(e=e||_.getActiveChatButtonTargetRoom(),Object(o.e)("giosgchat:open_chat_dialog",{animate:t,parent:e,userInitiated:i}))},this.clearUnreadMessages=function(){_.unreadMessageCount=0;var t=window.jGiosg("#"+_.chatButtonId);this.isNewMobileChat?this.mobileChatButton.clearUnreadCount():(t.removeClass("message-recieved-animation message-recieved"),t.find(".unread-messages").html(""))},this.loadDialogTemplate=function(t){if(null==t){var e=window.jGiosg.Deferred();return e.resolve(_.clientConfig.defaultDialog),e.promise()}return _.dialogTemplateCache[t]||(_.dialogTemplateCache[t]=Object(s.a)({url:window.giosg.protocol+"//"+window.giosg.baseDomain+"/api/v2/visitor/dialog/"+t+"/"},window.giosg.version)),_.dialogTemplateCache[t]},this.addRooms=function(t){return Object(c.a)(t,window.giosg.ruleEngine)},this.removeRooms=function(t){return Object(c.e)(t,window.giosg.ruleEngine)},this.addRoomsSnooping=function(t){window.giosg._.forEach(t,(function(t){Object(o.e)("giosgchat:giosg_add_snoop_room",{id:t})}))},this.removeRoomsSnooping=function(t){window.giosg._.forEach(t,(function(t){Object(o.e)("giosgchat:giosg_remove_snoop_room",{id:t})}))},this.resolveRooms=c.f,this.setDomainRoom=function(t){return Object(c.g)(t,window.giosg.ruleEngine)},this.preloadLeadForm=function(t){if(!t)return window.jGiosg.Deferred().reject().promise();var e=_.leadFormPromisesById,i=e[t];return i||(i=Object(s.a)({url:_.cfg.protocol+"//"+_.cfg.baseDomain+"/giosg_api/leadform/"+t,type:"GET"},window.giosg.version).then((function(t){return t})),e[t]=i,i.fail((function(){delete e[t]})),i)},this.showLeadForm=function(t,e,i){if(t||(t=_.getActiveChatButtonLeadFormId())){e||(e=this.getActiveChatButtonLeadFormRoom());var n=(e?window.jGiosg.when(e):_.getDomainRoom()).then((function(e){return function(t,e){return window.jGiosg.when(Object(d.d)(),window.giosg.ruleEngine.getMatchingActions(v.SET_LEAD_FORM_PROCESSOR)).then((function(i,n){var o=n[0],r={processor:o&&o.value||null,url:_.cfg.pageUrl,title:null!=_.cfg.pageTitle?_.cfg.pageTitle:document.title,cid:i,room:e,domain:window.giosg.domainId},a=window.giosg._.map(r,(function(t,e){return encodeURIComponent(e)+"="+encodeURIComponent(t||"")})).join("&");return A+"/leadforms/"+t+"/iframe?"+a}))}(t,e)}));if(window.giosg.isMobile||window.giosg.isTablet)return n.then((function(t){window.open(t)}));var o=_.preloadLeadForm(t),r=_.leadFormDialogPromisesById,a=r[t];return a=(a=a?window.jGiosg.when(a,n).then((function(t,e){return t.element.find("iframe").attr("src",e),t})):window.jGiosg.when(o,n).then((function(t,e){var i=t.dialog,n=i&&i.config,o=_.createLeadFormDialog(t,t.dialog,e);return o.appendTo("body"),_.setDialogPositionAutomatically(o,n),{leadForm:t,isVisible:!1,element:o}}))).then((function(t){if(!t.isVisible){t.isVisible=!0,_.visibleDialogElements=_.visibleDialogElements.add(t.element);var e=t.leadForm.dialog,n=e&&e.config,o=!!n&&n.showAnimation,r=n&&n.showAnimationDuration||null;return _.showElementAnimated(t.element,o,r).then((function(){return window.giosg.trigger("leadform:opened",{leadFormId:t.leadForm.id,leadFormName:t.leadForm.name,isUserInteraction:i}),t}))}return t})),r[t]=a,a}},this.hideLeadForm=function(t){var e=_.leadFormDialogPromisesById,i=e[t];return i?(i=i.then((function(t){if(t.isVisible){t.isVisible=!1;var e=t.element;return _.visibleDialogElements=_.visibleDialogElements.not(e),_.hideElementAnimated(e).then((function(){return t}))}return t})),e[t]=i,i):window.jGiosg.when()},this.closeChatDialog=function(){e.isNewMobileChat?(e.isDialogVisible=!1,e.mobileChatDialog.hide()):e.isDialogVisible&&(e.isDialogVisible=!1,e.visibleDialogElements=e.visibleDialogElements.not(_.Dialog),window.giosg.trigger("chatwindow:close"),Object(o.e)("giosgchat:chat_window_close"),_.hideElementAnimated(e.Dialog))},this.hideClient=function(){Object(o.e)("giosgchat:close_chat_dialog",{})},this.hideElementAnimated=function(t){var e,i=window.jGiosg.Deferred(),n=null,o={},r=!1;t.hide();var a=E(t);a.show();var s=_.clientConfig.dialog.config.hideAnimation,c=_.clientConfig.dialog.config.hideAnimationDuration;if(null!=s)if("fade"===s)n=s,o={duration:c};else if("blind vertical"===s)n="blind",o={mode:"hide",direction:"vertical"};else if("blind horizontal"===s)n="blind",o={mode:"hide",direction:"horizontal"};else if("bounce"===s)n=s,o={times:3};else if("clip"===s||"scale"===s)n=s,o={};else if(-1!==s.indexOf("drop"))e=s.substr(5),n="drop",o={direction:e};else if("explode"===s)n=s,o={pieces:16};else if("fold"===s)n=s,o={size:38};else if("highlight"===s)r=!0,a.effect(s,{},c,i.resolve);else if("puff"===s)n=s,o={percent:200};else if("pulsate"===s)r=!0,a.effect(s,{times:3},c,i.resolve);else if("shake"===s)r=!0,a.effect(s,{direction:"left",times:1,distance:20},c,i.resolve);else if(-1!==s.indexOf("slide"))e=s.substr(6),n="slide",o={direction:e};else if("transfer"===s){r=!0;var u=null;null!=_.clientConfig.customButtonOnline&&(u=window.jGiosg(_.clientConfig.customButtonOnline)[0]),null==u&&(u=document.getElementById(_.chatButtonId)),null!=u&&window.jGiosg(u).is(":visible")?a.effect("transfer",{to:window.jGiosg(u)},3*c/4,(function(){a.hide("fade",o,c/4,i.resolve)})):a.hide("fade",o,c,i.resolve)}return r||(null!=n?a.hide(n,o,c,i.resolve):i.resolve()),i.promise().then((function(){return a.remove(),t}))},_.doOnOrientationChange=function(){_.setChatButtonDefaultPos()},_.toggleUI=function(){window.giosg.isTablet||window.giosg.isMobile?e.isNewMobileChat||(_.doOnOrientationChange(),window.onorientationchange=function(){_.doOnOrientationChange()}):_.setDialogDefaultPosition(_.Dialog)},this.ajax=s.a,this.showChatAgentAvatar=function(t){var e=window.jGiosg("div#giosg_chat_operator_avatar div#avatar-image, .giosg-chat-dialog-agent-avatar-image"),i=window.jGiosg("#giosg_chat_operator_avatar");t.avatar?(window.jGiosg("span.giosg_live_chat_dialog-title, .giosg-chat-dialog-title").addClass("avatar-enabled"),window.jGiosg(".giosg-chat-dialog-agent-avatar-image").addClass("giosg-chat-dialog-agent-avatar-image-visible"),i.addClass("visible"),e.css({"background-image":"url('"+t.avatar.url+"')"}),i.hide().fadeIn("slow")):(e.css("background-color","transparent"),i.removeClass("visible"),window.jGiosg("span.giosg_live_chat_dialog-title, .giosg-chat-dialog-title").removeClass("avatar-enabled"),window.jGiosg(".giosg-chat-dialog-agent-avatar-image").removeClass("giosg-chat-dialog-agent-avatar-image-visible"),i.fadeOut("slow"))},this.toggleOperatorChatbuttons=function(t){t.length>0&&window.jGiosg("[data-giosgop-online]").length>0?window.jGiosg("[data-giosgop-online]").each((function(){var e=window.jGiosg(this).attr("data-giosgop-online"),i=window.giosg._.find(t,(function(t){return t.name===e})),n=window.jGiosg('[data-giosgop-offline="'+e+'"]');i?(n.hide(),window.jGiosg(this).show(),window.jGiosg(this).css("cursor","pointer").unbind("click.operator_chat_btn").bind("click.operator_chat_btn",(function(t){var e={event:t,element:this},n=window.jGiosg(this).attr("room-id")||_.getActiveChatButtonTargetRoom();window.giosg.trigger("chatbutton:click",e),_._trackGoogleAnalytics("chatbutton",n,{roomId:n},1,!0),_.showClient(!0,n,!0),_.setTargetOperator(i.id,!0)}))):(window.jGiosg(this).hide(),n.show())})):(window.jGiosg("[data-giosgop-online]").hide(),window.jGiosg("[data-giosgop-offline]").show())},this.setVisitorPriority=function(t){_.visitorPriority!==t&&(_.visitorPriority=t,_.cfg.tracker.setVisitorExplicitPriority(_.visitorPriority),Object(o.e)("giosgchat:visitor_priority",{visitorPriority:t}),window.giosg.ruleEngine.refreshAllRules(),_.cfg.tracker.sendActivateTrack())},this.setTargetOperator=function(t,e){var i={id:t};if(window.giosg.trigger("targetoperator:change",i),null!=t?Object(o.e)("giosgchat:target_operator",{id:t}):Object(o.e)("giosgchat:target_operator",{id:null}),e)try{return null!=t?window.localStorage.setItem(C,t):window.localStorage.removeItem(C),!0}catch(t){}return!1},this.getCachedTargetOpId=function(){try{return window.localStorage.getItem(C)}catch(t){return null}},this.startSinglePageAppTracking=function(){_._oldPageUrl=window.location.href,_._urlCheckInt=null;_._urlCheckInt=window.setInterval((function(){_._oldPageUrl!==window.location.href&&(_._oldPageUrl=window.location.href,Object(l.c)(document.title,window.location.href),window.giosg.ruleEngine.refreshAllRules(),Object(o.e)("giosgchat:api_change"))}),500)},this.trackPageView=l.c,this.isVisitorActive=function(){return((new Date).getTime()-_.visitorLastActiveTs.getTime())/1e3<_.visitorIdleTimeout},this.createChatFrame=o.c,this.getDomainRoom=c.b,this.getRooms=c.c,this.getOnlineOperators=function(){Object(o.e)("giosgchat:get_online_operators")},this.getActiveChat=function(){Object(o.e)("giosgchat:get_active_chat")},this.sendCors=o.e,this._sendCors=o.a,this.processCorsMessageQueue=o.d,this.addEventHandlers=function(){window.giosg.on("leadform:opened",(function(t){_._trackGoogleAnalytics("leadFormWasShown",t.leadFormName+":"+t.leadFormId,{leadFormName:t.leadFormName,leadFormId:t.leadFormId},1,t.isUserInteraction)}))},this.addCorsHandlers=function(){return Object(o.b)(window.giosg.ruleEngine,e)},this.onConversationsChanged=function(t){var e=window.jGiosg("#switch-conversation, .giosg-chat-room-selector-button");t.count>1?e.show():e.hide(),window.jGiosg("#conversation-list, .giosg-chat-room-selector-menu").remove();var i=window.giosg._.template(_.clientConfig.dialog.template_conversation_list)(t);_.Dialog.append(i),window.jGiosg("#conversation-list, .giosg-chat-room-selector-menu").find(".convs-row, .giosg-chat-room-selector-menu-item").click((function(){var t=window.jGiosg(this),e=t.attr("room-id");t.removeClass("unseen"),_.updateMessageIndicator(),Object(o.e)("giosgchat:open_chat_dialog",{parent:e}),window.jGiosg("#conversation-list, .giosg-chat-room-selector-menu").toggle()}))},this.onConversationMessage=function(t){_.lastMessageFrom=t.senderId;var i=_.getCachedTargetOpId();i&&i!==_.lastMessageFrom&&_.setTargetOperator(null,!0),"visitor"!==t.senderType?_.unreadMessageCount+=1:_.unreadMessageCount=0,(window.giosg.isMobile||window.giosg.isTablet)&&window.giosg.ruleEngine.getMatchingRulesByAction(v.NO_CHATBUTTON).then((function(i){if(!i.length){_.setChatButtonTarget(t.parent);var n=_.showChatButton();if(e.isNewMobileChat)e.mobileChatButton.showUnreadCount(),"visitor"===t.senderType||"autosuggest"!==t.msg_type||e.isDialogVisible||e.mobileChatButton.showMessagePreviewBubble(t.msg,t.visibleAvatar);else n.addClass("message-recieved-animation message-recieved"),setTimeout((function(){n.removeClass("message-recieved-animation")}),500),n.find(".unread-messages").html(_.unreadMessageCount?" ("+_.unreadMessageCount+")":"")}}));var n=window.jGiosg("#conversation-list, .giosg-chat-room-selector-menu").find('.convs-row[room-id="'+t.parent+'"], .giosg-chat-room-selector-menu-item[room-id="'+t.parent+'"]');"operator"===t.senderType?n.addClass("unseen giosg-chat-room-selector-menu-item-unread"):n.removeClass("unseen giosg-chat-room-selector-menu-item-unread"),_.updateMessageIndicator()},this.updateMessageIndicator=function(){var t=window.jGiosg("#switch-conversation .new_chat_messages, .giosg-chat-room-selector-badge"),e=window.jGiosg("#switch-conversation, .giosg-chat-room-selector-button"),i=window.jGiosg(".convs-row.unseen, .giosg-chat-room-selector-menu-item-unread").length;i>0?(t.text(i).show(),e.addClass("new giosg-chat-room-selector-button-unread")):(t.text("0").hide(),e.removeClass("new giosg-chat-room-selector-button-unread"))},this._trackGaq=function(t,e,i,n,o){var r=!o;window._gaq.push(["_trackEvent",t,e,i,n,r])},this._trackDataLayer=function(t,e,i,n,o,r){var a={event:t,eventCategory:t,eventAction:e,eventLabel:i,nonInteraction:r?"False":"True"};void 0!==o&&(a.eventValue=o),a=window.giosg._.assign(a,n),window.dataLayer.push(a)},this._trackGa=function(t,e,i,n,o){var r={};o||(r={nonInteraction:1}),window.ga("send","event",t,e,i,n,r)},this._trackCustom=function(t,e,i,n,o,r){var a=window.giosg.tracking.analyticsCustomObject;try{"function"==typeof window[a]?window[a](t,e,i,n,o,r):"object"==typeof window[a]?window[a].push([t,e,i,n,o,r]):console.log("giosg live: custom tracker is undefined! Object name: ",a)}catch(t){console.log("giosg live: failed to call/push to custom tracker: ",a)}},this._trackGoogleAnalytics=function(t,e,i,n,o){var r={eventName:t,eventDataAsString:e,eventDataAsPlainObject:i,eventValue:n,isUserInteraction:o};window.giosg._.each(window.giosg._.keys(r),(function(t){if(void 0===r[t])throw new Error('Required argument "'+t+'" was not provided to _trackGoogleAnalytics!')}));if(!window.giosg.tracking.enableAnalyticsEvents)return!1;i=i||{},e+=":"+window.giosg.pageUrl,i.pageUrl=window.giosg.pageUrl;var a=window.giosg.tracking.analyticsObjectType;try{switch(a){case"gaq":this._trackGaq("giosglive",t,e,n,o);break;case"datalayer":this._trackDataLayer("giosglive",t,e,i,n,o);break;case"ga-send":this._trackGa("giosglive",t,e,n,o);break;case"custom":this._trackCustom("giosglive",t,e,i,n,o);break;default:throw new Error("Unknown trackerObjectType: "+a)}}catch(t){console&&console.error(t)}return!0},this._getReferrer=a.a,this._getHostName=function(t){var e=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(t);return e?e[1]:t},this.hasRuleMatched=u.a,this.setRuleMatched=u.b,this.httpGetVisitorData=d.b,this.loadVisitorData=d.c,this.getVisitorData=d.a,this.getChatButtonSettings=function(t){if(!t)return window.jGiosg.Deferred().reject();var e=_.chatButtonSettingsLoadsById,i=e[t];return i||(i=Object(s.a)({url:_.cfg.protocol+"//"+_.cfg.baseDomain+"/giosg_api/chatbuttonsettings/"+t,type:"GET"},window.giosg.version),e[t]=i,i.fail((function(){delete e[t]}))),i},this.sendSystemMessage=function(t,e,i,n,r){var a={message:t,senderId:e,senderType:i,senderPublicName:n,targetRooms:r};Object(o.e)("giosgchat:send_system_message",a)},this.showAutoSuggest=function(t,e,i,n){return window.jGiosg.when(e||_.getDomainRoom()).then((function(e){var r={message:t,room:e,autoSuggestingUserId:i,closeDelay:n,autoSuggestUrl:window.location.href,autoSuggestUrlTitle:document.title};Object(o.e)("giosgchat:autosuggest_chat",r)}))},this.requestAutosuggestPermissions=function(t,e){return window.jGiosg.when(t||_.getDomainRoom()).then((function(t){if(!_.deferredAutosuggestPermissions[t]){var i={room:t,disableCapacityCheck:e};_.deferredAutosuggestPermissions[t]=Object(o.e)("giosgchat:request_autosuggest_permission",i),_.deferredAutosuggestPermissions[t].always((function(){_.deferredAutosuggestPermissions[t]=void 0}))}return _.deferredAutosuggestPermissions[t]}))},this._includeThemeCss=function(){window.giosg._.forEach(window.giosg.stylesheets,(function(t){window.jGiosg("head").append('<link rel="stylesheet" type="text/css" href="'+t.url+'" media="screen" data-noprefix />')}));return".giosg_chat_now_button, .giosg_chat_now_buttontxt90deg, .giosg_chat_now_buttontxt { display:none;}\n",".giosg_live { display:none;}\n","#giosg_chat_history {display:none;}\n","}",_._injectCss("giosg-theme-css","@media print {\n.giosg_chat_now_button, .giosg_chat_now_buttontxt90deg, .giosg_chat_now_buttontxt { display:none;}\n.giosg_live { display:none;}\n#giosg_chat_history {display:none;}\n}"),_._includeCustomCss(),!0},this._includeCustomCss=function(){var t=_.clientConfig.dialog.custom_css||"";return _._injectCss("giosg-custom-css",t),!0},this.getCookieByName=function(t){for(var e,i,n=document.cookie.split(";"),o=0;o<n.length;o++)if(e=n[o].substr(0,n[o].indexOf("=")),i=n[o].substr(n[o].indexOf("=")+1),(e=e.replace(/^\s+|\s+$/g,""))===t)return unescape(i)},this.setDialogTitle=function(t){window.jGiosg("#giosg-chat-title, .giosg-chat-dialog-title-text").text(t)},this._refreshLegacyIsOperatorsOnline=function(){var t=this,e=Object.keys(this.isOperatorsOnlineByRoom).map((function(e){return t.isOperatorsOnlineByRoom[e]})).some((function(t){return!0===t}));e!==_.isOperatorsOnline&&(_.isOperatorsOnline=e,this._setCachedOperatorStatus(e),window.giosg.ruleEngine.refreshAllRules())},this._getCachedOperatorStatus=function(){try{var t=!1;if(null!=window.sessionStorage[T])t="1"===window.sessionStorage[T];return t}catch(t){return!1}},this._setCachedOperatorStatus=function(t){try{var e=!0===t?"1":"0";return window.sessionStorage[T]=e,!0}catch(t){return!1}},this.loadDialogImages=function(t){var e=_.staticBaseUrl+"css/giosg/images/";t.find("img.giosg[data-src]").each((function(t,i){var n=window.jGiosg(i);n.attr("src",e+n.attr("data-src"))}))},this.createChatDialog=function(t,e){var i=Object(r.a)(!1),n=window.jGiosg("<div/>").attr("id",t).css("display","none").addClass("notranslate").html(O()),o=_.createDialog(n,e,"#giosg_live_chat_container, .giosg-chat-dialog-iframe-container",{id:"giosg_chat_history",title:"Chat history",name:"giosg_chat_history",src:i});return o.find("button.close, .giosg-chat-dialog-close-button").on("click",(function(){_.hideClient();var t=document.getElementById(_.chatButtonId);t&&t.focus()})),_.initConversatonSwitcher(o),o},this.createMobileChatDialog=function(){if(e.isNewMobileChat)return e.mobileChatDialog.create();var t=Object(r.a)(!0),i=window.jGiosg("<div/>").css({display:"none",position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px"}).html(O()),n=e.createDialog(i,!1,null,{id:"giosg_chat_history",name:"giosg_chat_history",src:t});return n.find("iframe").css({position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px",width:"100%",height:"100%"}),n},this.createLeadFormDialog=function(t,e,n){var o,r,a,s=e&&"giosg-dialog-"+e.id,c=window.jGiosg("<div/>").addClass("notranslate").hide();if(e){var u=i.mergeStyleConfigs(_.clientConfig.defaultDialogStyleConfig,e.style_config),l=_.clientConfig.dialogStyleConfigSchema,d=i.generateCssFromStyleConfig(l,u,{parentSelector:"."+s});_._injectCss(s,d);var g=Object.assign({},e.config,t.dialog_config);c.html(function(t){var e=_.clientConfig.dialogTemplate,i=Object.assign({noPoweredByImg:_.clientConfig.noPoweredByImg,footerLogoUrl:_.domainLogo},t);return window.giosg._.template(e)({dialog:i})}(g))}else{var f=t.dialog_config&&t.dialog_config.titleText;c.html((o=f,r=_.clientConfig.legacyLeadFormDialogTemplate,a={titleText:null!=o?o:_.clientConfig.dialog.config.titleText,noPoweredByImg:_.clientConfig.noPoweredByImg,footerLogoUrl:_.clientConfig.dialog.footer_logo_asset&&_.clientConfig.dialog.footer_logo_asset.url||_.domainLogo},window.giosg._.template(r)({dialog:a})))}s&&c.addClass(s);var h=this.createDialog(c,!0,'.giosg-chat-dialog-content, [data-giosg-dialog-role="content"]',{name:"giosg-lead-form-dialog-iframe",src:n});return h.on("click",'button.close, [data-giosg-dialog-role="close"], .giosg-chat-dialog-close-button',(function(){_.hideLeadForm(t.id)})),h},this.createDialog=function(t,e,i,n){(t=window.jGiosg(t)).addClass("giosg-dialog-container"),t.css("z-index",99999999),this.loadDialogImages(t),e&&(t.draggable({handle:'.giosg-header, .giosg-chat-header, [data-giosg-dialog-role="drag"]',iframeFix:!0,stack:".giosg-dialog-container",scroll:!1,containment:"window"}),t.css("position","fixed"));var o=i?t.find(i).first():t;return _.createChatFrame(o[0],n),t},this.initConversatonSwitcher=function(t){var e=t.find("#switch-conversation, .giosg-chat-room-selector-button");e.append('<div class="new_chat_messages giosg-chat-room-selector-badge"></div>'),e.click((function(){t.find("#conversation-list, .giosg-chat-room-selector-menu").toggle()}))},this.setDialogPosition=function(t,e){var i=[],n=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(1===(i="string"==typeof t?t.split(" "):[t[0],t[1]]).length&&(i[1]=i[0]),window.jGiosg.each(["left","top"],(function(t,e){+i[t]===i[t]&&(n[t]=i[t],i[t]=e)})),t={my:i.join(" "),at:i.join(" "),offset:n.join(" ")}),t=window.jGiosg.extend({},window.jGiosg.ui.dialog.prototype.options.position,t)):t=window.jGiosg.ui.dialog.prototype.options.position,e.css({top:0,left:0});var o=window.jGiosg.extend({of:window},t),r=void 0,a=window.jGiosg.isWindow(o.of)&&o.of.preventDefault;a&&(r=o.of.preventDefault,o.of.preventDefault=void 0);try{e.position(o)}finally{a&&(o.of.preventDefault=r)}},this.setDialogPositionAutomatically=function(t,e){var i=_.visibleDialogElements.not(t).last().get(0);i?_.setDialogPositionNextTo(t,i):_.setDialogDefaultPosition(t,e)},this.setDialogPositionNextTo=function(t,e){_.enableDialogEmbedMode||(this.setDialogPosition({my:"right top",at:"left top",of:e,collision:"flipfit"},t),S(t))},this.setDialogDefaultPosition=function(t,e){if(!_.enableDialogEmbedMode){var i=e&&e.anchorPosition,n=e&&e.positionOffsetX,o=e&&e.positionOffsetY,r=parseInt(i||_.clientConfig.dialog.config.anchorPosition,10),a=parseInt(null==n?_.clientConfig.dialog.config.positionOffsetX:n,10),s=parseInt(null==o?_.clientConfig.dialog.config.positionOffsetY:o),c=1,u=1,l=null;1===r?(l=["left","top"],c=1,u=1):2===r?(l=["right","top"],c=1,u=-1):3===r?(l=["left","bottom"],c=-1,u=1):4===r?(l=["right","bottom"],c=-1,u=-1):5===r?l="center":6===r?l="top":7===r?(l="bottom",c=-1):8===r?l="left":9===r&&(l="right",u=-1),this.setDialogPosition(l,t);var d=parseInt(t.css("left")),g=parseInt(t.css("top"));d+=a*u,g+=s*c,t.css("top",g),t.css("left",d),S(t)}},this.setChatButtonDefaultPos=function(t,e){var i=parseInt(_.clientConfig.chatButtonVersion,10);t=t||window.jGiosg("#"+_.chatButtonId),e=e||_.clientConfig.chatbutton;var n=_.getViewportSize();if(2===i){var o=parseInt(e.position,10),r=parseInt(e.textRotation,10),a=parseInt(e.offsetX,10),s=parseInt(e.offsetY,10),c=t.outerHeight(),u=t.outerWidth(),l=void 0,d=void 0,g=void 0,f=void 0,h=void 0,p=void 0;1===o?(l=s,d=a,90===r?d+=c:-90===r?l+=u:180===r&&(l+=c,d+=u),t.css("left",d+"px"),t.css("top",l+"px"),t.addClass("dock-left")):2===o?(l=s,g=a,90===r?g-=u:-90===r?(l+=u,g-=u-c):180===r&&(l+=c,g-=u),t.css("right",g+"px"),t.css("top",l+"px"),t.addClass("dock-left")):3===o?(f=s,d=a,90===r?(d+=c,f+=u-c):-90===r?f-=c:180===r&&(f-=c,d+=u),t.css("left",d+"px"),t.css("bottom",f+"px"),t.addClass("dock-left")):4===o?(f=s,g=a,90===r?(g-=u,f+=u-c):-90===r?(f-=c,g-=u-c):180===r&&(f-=c,g-=u),t.css("right",g+"px"),t.css("bottom",f+"px"),t.addClass("dock-left")):5===o||(6===o?(l=s,d=n.width/2-t.width()/2+a,90===r?d+=u-c-c/2:-90===r?(l+=u,d+=u-c-c-c/2):180===r&&(l+=c,d+=u),t.css("left",d+"px"),t.css("top",l+"px"),t.addClass("dock-left")):7===o?(p=t.width(),f=s,d=n.width/2-p/2+a,90===r?(d+=u-c-c/2,f+=u-c):-90===r?(f-=c,d+=u-c-c-c/2):180===r&&(f-=c,d+=u),t.css("left",d+"px"),t.css("bottom",f+"px"),t.addClass("dock-left")):8===o?(l=n.height/2-t.width()/2+s,d=a,90===r?d+=c:-90===r?l+=u:180===r&&(l+=c,d+=u),t.css("top",l+"px"),t.css("left",d+"px"),t.addClass("dock-left")):9===o?(l=n.height/2-t.width()/2+s,g=a,90===r?g-=u:-90===r?(l+=u,g-=u-c):180===r&&(l+=c,g-=u),t.css("top",l+"px"),t.css("right",g+"px"),t.addClass("dock-left")):10===o?(h=s-(2*parseInt(e.borderSize)+2*parseInt(e.paddingY)+t.height()+1),t.css("left",a+"px"),t.css("top",h+"px"),t.addClass("dock-left")):11===o?(h=s-(2*parseInt(e.borderSize)+2*parseInt(e.paddingY)+t.height()+1),t.css("right",a+"px"),t.css("top",h+"px"),t.addClass("dock-right")):12===o?(h=s+2*parseInt(e.borderSize)+2*parseInt(e.paddingX)+(p=t.width()),t.css("left",a+"px"),t.css("bottom",h+"px"),t.addClass("dock-left")):13===o?(h=s+2*parseInt(e.borderSize)+2*parseInt(e.paddingX)+(p=t.width()),t.css("right",a+"px"),t.css("bottom",h+"px"),t.addClass("dock-right")):14===o||(t.css("top",n.height/2-t.width()/2+"px"),t.css("right","0px")))}},this.hideChatButton=function(){var t=_.chatButton;return t&&(e.isNewMobileChat?e.mobileChatButton.hide():(t.stop(!1,!0),t.hide())),t},this.showChatButton=function(){var t=_.chatButton;return t?e.isNewMobileChat?e.mobileChatButton.show():(t.stop(!1,!0),t.show()):_.chatButton=t=_._createChatButton(),t},this.showStatus=function(t){var e={problem:"#giosg_indicator_problem",online:"#giosg_indicator_online",offline:"#giosg_indicator_offline"};e[t]&&(window.jGiosg(".giosg-con-indicator").hide(),window.jGiosg(e[t]).show().css("display","inline-block"))},this.setChatButtonText=function(t){_.forcedChatButtonText=t,_.chatButton&&_.chatButton.find(".chatbuttontext").text(_.getActiveChatButtonText())},this.getActiveChatButtonText=function(){var t=_.forcedChatButtonText;if(null!=t)return _.unencodeButtonText(t);var e=_.clientConfig.chatbutton;return _.unencodeButtonText((window.giosg.isMobile||window.giosg.isTablet)&&e.mcbText||e.buttonValue)},this.setChatButtonTarget=function(t){_.forcedChatButtonTarget=t,window.giosg.ruleEngine.refreshAllRules()},this.setDefaultChatButtonTarget=function(t){_.defaultChatButtonTarget=t,window.giosg.ruleEngine.refreshAllRules()},this.setLanguage=function(t){Object(o.e)("giosgchat:set_lang",t)},this.mobileChatDialog={animations:{EXPAND:"giosg-animation-expand",SHRINK:"giosg-animation-shrink",DONE:"giosg-animation-done"},dialog:null,create:function(){var t=window.jGiosg('<div class="giosg-mobile-chat-dialog" />'),e=window.jGiosg('<iframe\n                class="giosg-mobile-chat-dialog-iframe"\n                title='+_.clientConfig.dialog.config.titleText+'\n                allowtransparency="true"\n                allow="fullscreen; camera; microphone"\n                frameborder="0"\n                id="giosg_chat_history"\n                name="giosg_chat_history"\n                src="'+Object(r.a)(!0)+'"\n                loading="eager"\n            />');return t.append(e),this.dialog=t,t},isAnimating:!1,hide:function(){var t=this;w(this.dialog),_.mobileChatButton.clearUnreadCount(),this.dialog.removeClass(this.animations.DONE),this.dialog.removeClass(this.animations.EXPAND),this.dialog.addClass(this.animations.SHRINK),Object(o.e)("giosgchat:chat_window_close"),window.giosg.trigger("chatwindow:close"),setTimeout((function(){t.dialog.hide().removeClass(t.animations.SHRINK),t.dialog.addClass(t.animations.DONE);var e=document.getElementById(_.chatButtonId);e&&e.focus()}),250)},show:function(){var t=this;"block"===this.dialog.css("display")||this.isAnimating||(m(this.dialog),this.isAnimating=!0,this.dialog.removeClass(this.animations.DONE),this.dialog.removeClass(this.animations.SHRINK),this.dialog.addClass(this.animations.EXPAND).show(),setTimeout((function(){t.dialog.removeClass(t.animations.EXPAND),t.dialog.addClass(t.animations.DONE),t.isAnimating=!1,Object(o.e)("giosgchat:chat_window_visible"),window.giosg.trigger("chatwindow:open")}),500))}},this.mobileChatButton={animations:{SPAWN:"giosg-animation-spawn",SPAWN_REVERSE:"giosg-animation-spawn-reverse",WIGGLE_COUNT:"giosg-animation-wiggle-count",WIGGLE_ICON:"giosg-animation-wiggle-icon"},button:null,brandPrimaryColor:null,brandSecondaryColor:null,changeTheme:function(t,e,i){if(this.brandPrimaryColor=e,this.brandSecondaryColor=i,t){var n=t.find("path.giosg-speech-bubble");n&&e&&n.css("fill",e),n&&!e&&n.removeAttr("style");i=i||"#7e50ec";var o=t.find(".giosg-chat-button-message-preview-bubble-text");o.css("background-color",i),o.css("color",y(i)?"#000000":"#ffffff");var r=t.find(".giosg-chat-button-message-preview-bubble-close"),a=b(i,y(i)?1/1.15:1.15);r.css("background-color",a),r.css("color",y(i)?"#000000":"#ffffff")}},create:function(){var t=this,e=window.jGiosg('<button tabIndex="1" class="giosg-chat-button" id="'+_.chatButtonId+'" aria-live="polite" aria-label="chat"/>'),i=window.jGiosg(f).addClass("giosg-chat-button-icon"),n=window.jGiosg('<span class="giosg-chat-button-unread-message-count" />');n.hide();var o=window.jGiosg('\n              <div class="giosg-chat-button-message-preview-bubble">\n                <div class="giosg-chat-button-message-preview-bubble-text"/>\n                <div class="giosg-chat-button-message-preview-bubble-avatar"/>\n                <div class="giosg-chat-button-message-preview-bubble-close">'+h+"</div>\n              </div>");return o.hide(),o.find(".giosg-chat-button-message-preview-bubble-close").on("click",(function(t){t.stopPropagation(),o.hide()})),e.on("click",(function(){o.hide()})),e.prepend(n).prepend(o).append(i),this.changeTheme(e,this.brandPrimaryColor,this.brandSecondaryColor),e.hide(),e.appendTo("body"),setTimeout((function(){e.addClass(t.animations.SPAWN).show(),setTimeout((function(){e.removeClass(t.animations.SPAWN)}),500)}),2e3),this.button=e,e},clearUnreadCount:function(){if(this.button){this.button.find(".giosg-chat-button-icon").removeClass(this.animations.WIGGLE_ICON);var t=this.button.find(".giosg-chat-button-unread-message-count");t.removeClass(this.animations.WIGGLE_COUNT),t.html(""),t.hide()}},showUnreadCount:function(){var t=this;if(this.button){var e=this.button.find(".giosg-chat-button-unread-message-count"),i=this.button.find(".giosg-chat-button-icon");e.html(""+_.unreadMessageCount),setTimeout((function(){i.addClass(t.animations.WIGGLE_ICON),e.addClass(t.animations.WIGGLE_COUNT).show(),setTimeout((function(){i.removeClass(t.animations.WIGGLE_ICON),e.removeClass(t.animations.WIGGLE_COUNT)}),500)}),300)}},hide:function(){var t=this;this.button&&(this.button.addClass(this.animations.SPAWN_REVERSE),setTimeout((function(){t.button.hide(),setTimeout((function(){t.button.removeClass(t.animations.SPAWN_REVERSE)}),500)}),550))},show:function(){var t=this;this.button&&"block"!==this.button.css("display")&&setTimeout((function(){t.button.addClass(t.animations.SPAWN).show(),setTimeout((function(){t.button.removeClass(t.animations.SPAWN)}),500)}),550)},showMessagePreviewBubble:function(t,e){var i=this;if(this.button){var n=this.button.find(".giosg-chat-button-message-preview-bubble");n.hide(),n.find(".giosg-chat-button-message-preview-bubble-text").text(t);var o=n.find(".giosg-chat-button-message-preview-bubble-avatar");e?o.css("background-image",'url("'+e+'")').show():o.css("background-image","").hide(),t&&setTimeout((function(){n.addClass(i.animations.SPAWN).show(),setTimeout((function(){n.removeClass(i.animations.SPAWN)}),500)}),500)}},hideMessagePreviewBubble:function(){var t=this;if(this.button){var e=this.button.find(".giosg-chat-button-message-preview-bubble");e.addClass(this.animations.SPAWN_REVERSE).show(),setTimeout((function(){e.removeClass(t.animations.SPAWN_REVERSE).hide()}),500)}}},this._createButton=function(t){var e,i=t.buttonVersion;if(2===i||"2"===i){t=Object.assign({},t),Object(g.d)(_.cfg,t);var n=_.clientConfig.chatButtonCss,o=null!=t.buttonText?t.buttonText:(window.giosg.isMobile||window.giosg.isTablet)&&t.mcbText||t.buttonValue,r=t.buttonClass,a=window.jGiosg('<span class="chatbuttontext" />'),s=_.unencodeButtonText(o);a.html(s);var c=j();e=window.jGiosg('<button tabIndex="1" aria-live="polite" />').addClass(r).append(a).css("z-index","99999998").css("position","fixed").css("visibility","hidden").appendTo("body"),(window.giosg.isMobile||window.giosg.isTablet)&&(e.css("zoom",c),I(),e.addClass(r+"_mobile"),e.addClass("left"===t.mcbPosition?r+"_mobile_left":"right"===t.mcbPosition?r+"_mobile_right":r+"_mobile_stretch dock-center")),t.buttonId&&e.attr("id",t.buttonId),"0"!==t.textRotation&&e.addClass("rot"+t.textRotation+"deg"),_._appendButtonCss(n,t,e).then((function(){e.css("visibility","visible"),_.setChatButtonDefaultPos(e,t)}))}return e},this._createChatButton=function(){var t,i=Object.assign({},_.clientConfig.chatbutton,{buttonId:_.chatButtonId,buttonClass:"giosg_chat_now",buttonText:_.getActiveChatButtonText(),buttonVersion:_.clientConfig.chatButtonVersion});if(e.isNewMobileChat)t=e.mobileChatButton.create();else{t=e._createButton(i);var n=window.jGiosg('<span class="unread-messages" />');t.find(".chatbuttontext").append(n)}return window.jGiosg(t).on("click",(function(t){var e={event:t,element:t.currentTarget},i=_.getActiveChatButtonTargetRoom();window.giosg.trigger("chatbutton:click",e),_._trackGoogleAnalytics("chatbutton",i,{roomId:i},1,!0),i?(_.showClient(!0,i,!0),Object(o.e)("giosgchat:focus_input")):_.showLeadForm(void 0,void 0,!0)})),t},this.unencodeButtonText=function(t){return t&&t.length?t.replace(/&lt;br&gt;/g,"<br />").replace(/&nbsp;/g," ").replace(/&amp;/g,"&"):null},this.getActiveChatButtonTargetRoom=function(){var t=_.forcedChatButtonTarget;if(t)return t;var e=window.giosg.ruleEngine.getCurrentlyMatchingActions(v.CHANGE_CB_TARGET).map((function(t){return t.value})),i=window.giosg.ruleEngine.getCurrentlyMatchingRulesByAction(v.ENABLE_CHATBUTTON).map((function(t){return t.targetAnyRoom?window.giosg.rooms:t.targetRooms||[]})).flat(),o=e.length>0?n(window.giosg.rooms,e):n(window.giosg.rooms,i);return o.sort((function(t){return t===_.defaultChatButtonTarget?-1:t===window.giosg.domainRoom?0:1})),o.find((function(t){return _.isOperatorsOnlineByRoom[t]}))||null},this.getActiveChatButtonLeadFormId=function(){var t=window.giosg.ruleEngine.getCurrentlyMatchingActions(v.LOAD_LEAD_FORM)[0];return t&&t.value||null},this.getActiveChatButtonLeadFormRoom=function(){for(var t=window.giosg.ruleEngine.getCurrentlyMatchingRulesByAction(v.LOAD_LEAD_FORM),e=0;e<t.length;e++){var i=t[e];if(i.targetAnyRoom)return window.giosg.domainRoom||window.giosg.rooms[0];var o=n(window.giosg.rooms,i.targetRooms);if(o&&o.length)return o[0]}return null},this._appendButtonCss=function(t,e,i){var n=this.appendedCssPromisesByClassName,o=e.buttonClass,r=n[o];if(r)return r;var a=window.jGiosg.Deferred();r=a.promise();var s=window.giosg._.template(t)(e);return _._injectCss("giosg-button-"+o,s),function t(){null==_._cssCheck?_._cssCheck=1:_._cssCheck++,!function(){if(0!==parseInt(e.textRotation)){var t="pointer"===i.css("cursor")&&"none"!==i.css("transform");return t&&(null==_._cssDigestCount&&(_._cssDigestCount=0),_._cssDigestCount++),t&&_._cssDigestCount>5}return"pointer"===i.css("cursor")}()?setTimeout((function(){_._cssCheck<3e3?t():a.resolve()}),20):(i.css("visibility","visible"),a.resolve())}(),n[o]=r,r},this._injectCss=function(t,e){var i=document.getElementById(t);i||((i=document.createElement("style")).setAttribute("type","text/css"),i.id=t),i.appendChild(document.createTextNode(e)),i.parentElement||window.jGiosg("head").append(i)},this.customButton.init=function(){var t=window.jGiosg(_.clientConfig.customButtonOnline),e=function(t){t.css("cursor","pointer").on("click",(function(t){var e={event:t,element:this},i=window.jGiosg(this).attr("room-id")||_.getActiveChatButtonTargetRoom();window.giosg.trigger("chatbutton:click",e),_._trackGoogleAnalytics("chatbutton",i,{roomId:i},1,!0),_.showClient(!0,i,!0)}))},i=t.filter("[room-name]"),n=t.filter(":not([room-name])");if(i.length>0){var o=[],r={};i.each((function(){var t=window.jGiosg(this),e=t.attr("room-name");e&&(o.push(e),r[e]||(r[e]=[]),r[e].push(t))})),window.giosg.api.room._getRoomIdsByNames(o).then((function(i){for(var n=function(t){var e=i.rooms[t];r[e.name]&&r[e.name].forEach((function(t){t.attr("room-id",e.id)}))},o=i.rooms.length-1;o>=0;o--)n(o);e(t)}))}return e(n),!0},this.customButton.show=function(t){var e=window.jGiosg(_.clientConfig.customButtonOnline),i=window.jGiosg(_.clientConfig.customButtonOffline),n=e.filter(":not([room-id])");if(i.filter(":not([room-id])").hide(),n.show(),t){var o=e.filter('[room-id="'+t+'"]');i.filter('[room-id="'+t+'"]').hide(),o.show()}return!0},this.customButton.hide=function(t){var e=window.jGiosg(_.clientConfig.customButtonOnline),i=window.jGiosg(_.clientConfig.customButtonOffline),n=e.filter(":not([room-id])"),o=i.filter(":not([room-id])");if(n.hide(),o.show(),t){var r=e.filter('[room-id="'+t+'"]'),a=i.filter('[room-id="'+t+'"]');r.hide(),a.show()}return!0},this._customElements.init=function(){var t=window.jGiosg(_._customElements.onlineElementSelector),e=window.jGiosg(_._customElements.offlineElementSelector);return!0===_.isOperatorsOnline?(t.show(),e.hide()):!1===_.isOperatorsOnline&&(t.hide(),e.show()),!0},this._customElements.show=function(){var t=window.jGiosg(_._customElements.onlineElementSelector);return window.jGiosg(_._customElements.offlineElementSelector).hide(),t.show(),!0},this._customElements.hide=function(){var t=window.jGiosg(_._customElements.onlineElementSelector),e=window.jGiosg(_._customElements.offlineElementSelector);return t.hide(),e.show(),!0},this.getViewportSize=function(){return{width:window.innerWidth,height:window.innerHeight}},this.performIframeProbe=function(){var t,e,i=_.cfg.protocol+"//"+_.cfg.chatIframeDomain+"/probe/",n=function(t){var i=t.originalEvent;e&&i.source===e.contentWindow&&("host_probe"===JSON.parse(i.data).command&&(o(),window.giosg.tracker.trackDomainProbe(!0)))};function o(){t&&(clearTimeout(t),t=void 0),window.jGiosg(window).off("message",n),e&&(document.body.removeChild(e),e=void 0)}(e=document.createElement("iframe")).src=i,e.style.display="none",document.body.appendChild(e),window.jGiosg(window).on("message",n),t=window.setTimeout((function(){o(),window.giosg.tracker.trackDomainProbe(!1)}),3e4)}}},296:function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}},297:function(t,e,i){var n=i(41).Uint8Array;t.exports=n},298:function(t,e,i){var n=i(299),o=i(227),r=i(59);t.exports=function(t){return n(t,r,o)}},299:function(t,e,i){var n=i(206),o=i(26);t.exports=function(t,e,i){var r=e(t);return o(t)?r:n(r,i(t))}},300:function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length,o=0,r=[];++i<n;){var a=t[i];e(a,i,t)&&(r[o++]=a)}return r}},301:function(t,e){t.exports=function(){return[]}},302:function(t,e,i){var n=i(445),o=i(167),r=i(26),a=i(158),s=i(151),c=i(199),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var i=r(t),l=!i&&o(t),d=!i&&!l&&a(t),g=!i&&!l&&!d&&c(t),f=i||l||d||g,h=f?n(t.length,String):[],p=h.length;for(var _ in t)!e&&!u.call(t,_)||f&&("length"==_||d&&("offset"==_||"parent"==_)||g&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||s(_,p))||h.push(_);return h}},303:function(t,e){t.exports=function(t,e){return function(i){return t(e(i))}}},304:function(t,e,i){var n=i(63),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},307:function(t,e){t.exports=function(t,e,i,n){for(var o=t.length,r=i+(n?1:-1);n?r--:++r<o;)if(e(t[r],r,t))return r;return-1}},308:function(t,e,i){var n=i(242),o=i(92),r=i(138),a=o((function(t,e){return r(t)?n(t,e):[]}));t.exports=a},326:function(t,e,i){var n=i(152),o=i(449),r=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var i in Object(t))r.call(t,i)&&"constructor"!=i&&e.push(i);return e}},327:function(t,e){t.exports=function(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}},328:function(t,e,i){var n=i(327),o=Math.max;t.exports=function(t,e,i){return e=o(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,s=o(r.length-e,0),c=Array(s);++a<s;)c[a]=r[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=r[a];return u[e]=i(c),n(t,this,u)}}},329:function(t,e,i){var n=i(455),o=i(457)(n);t.exports=o},338:function(t,e,i){"use strict";i.d(e,"d",(function(){return s})),i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return u})),i.d(e,"g",(function(){return l})),i.d(e,"f",(function(){return d})),i.d(e,"a",(function(){return g})),i.d(e,"e",(function(){return f}));var n=i(85),o=i(575),r=void 0,a=void 0,s=[],c=function(){return a||(a=window.jGiosg.Deferred()),a.promise()},u=function(){return r||(r=window.jGiosg.Deferred()),r.promise()},l=function(t,e){a||(a=window.jGiosg.Deferred()),a.resolve(t),e.refreshAllRules()},d=function(){r||(r=window.jGiosg.Deferred()),r.resolve(window.giosg.rooms)},g=function(t,e){var i;if(t&&t.length){var a=[];t.filter((function(t){return!window.giosg.rooms.includes(t)})).forEach((function(t){a.includes(t)||a.push(t)})),s.push.apply(s,t),a.length>0&&((i=window.giosg.rooms).push.apply(i,a),t.forEach((function(t){Object(n.e)("giosgchat:giosg_room",{id:t})})),Object(o.c)(null,null,a),r||(r=window.jGiosg.Deferred()),r.done((function(){e.refreshAllRules()})))}},f=function(t,e){t.forEach((function(t){var e=s.indexOf(t);e>=0&&s.splice(e,1)}));var i=[];t.filter((function(t){return!s.includes(t)})).forEach((function(t){i.includes(t)||i.push(t)})),window.giosg.rooms=window.giosg.rooms.filter((function(t){return!i.includes(t)})),i.forEach((function(t){window.giosg.tracker.removeRoom(t),Object(n.e)("giosgchat:leave_room",{id:t})})),e.refreshAllRules()}},340:function(t,e,i){var n=i(464),o=i(43),r=i(136),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(r(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var i=s.test(t);return i||c.test(t)?u(t.slice(2),i?2:8):a.test(t)?NaN:+t}},341:function(t,e,i){var n=i(156),o=i(239),r=i(240),a=i(157),s=i(460),c=i(185);t.exports=function(t,e,i){var u=-1,l=o,d=t.length,g=!0,f=[],h=f;if(i)g=!1,l=r;else if(d>=200){var p=e?null:s(t);if(p)return c(p);g=!1,l=a,h=new n}else h=e?[]:f;t:for(;++u<d;){var _=t[u],m=e?e(_):_;if(_=i||0!==_?_:0,g&&m==m){for(var w=h.length;w--;)if(h[w]===m)continue t;e&&h.push(m),f.push(_)}else l(h,m,i)||(h!==f&&h.push(m),f.push(_))}return f}},345:function(t,e,i){"use strict";i.d(e,"d",(function(){return c})),i.d(e,"c",(function(){return u})),i.d(e,"b",(function(){return l})),i.d(e,"a",(function(){return d}));var n=i(1307),o=i(574),r=i(575),a=null,s=void 0,c=function(){return s||(s=window.jGiosg.Deferred()),s},u=function(t){var e={sessionUuid:t.sessionUuid,visitCount:t.visitCount,experimentGroups:t.experimentGroups,previousPurchases:t.purchases,orig_ref_url:t.orig_ref_url};return Object.assign(window.giosg,e),n.a||Object(n.b)(t.ipaddr),e},l=function(){return Object(r.b)().then((function(){return s})).then((function(t){var e=window.jGiosg.Deferred();return Object(o.a)({url:window.giosg.protocol+"//"+window.giosg.baseDomain+"/api/visitor-data/"+t+"/"+window.giosg.domainId+"/",type:"GET"},window.giosg.version).then(e.resolve,e.reject),e.then((function(t){return u(t)}))}))},d=function(){return a||((a=a=l()).fail((function(){a=null})),a)}},37:function(t,e,i){var n=i(64),o=i(43);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},371:function(t,e,i){var n=i(340);t.exports=function(t){return t?(t=n(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},378:function(t,e,i){"use strict";function n(t){var e=a(t);return!!e&&1-(.299*e.r+.587*e.g+.114*e.b)/255<.5}i.r(e),i.d(e,"isLightColor",(function(){return n})),i.d(e,"validHexColorRegex",(function(){return o})),i.d(e,"isValidHexColor",(function(){return r})),i.d(e,"hexToRGB",(function(){return a})),i.d(e,"changeLightness",(function(){return s}));var o=/^#[0-9A-F]{6}$/i;function r(t){return/^#[0-9A-F]{6}$/i.test(t)}function a(t){if(!r(t))return null;var e=t.slice(1),i=parseInt(e,16);return{r:i>>16&255,g:i>>8&255,b:255&i}}function s(t,e){var i=a(t),n=function(t){return Math.round(Math.min(255,t*e))};return"rgb("+n(i.r)+","+n(i.g)+","+n(i.b)+")"}},41:function(t,e,i){var n=i(259),o="object"==typeof self&&self&&self.Object===Object&&self,r=n||o||Function("return this")();t.exports=r},411:function(t,e,i){var n=i(95),o=Object.prototype,r=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=r.call(t,s),i=t[s];try{t[s]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[s]=i:delete t[s]),o}},412:function(t,e){var i=Object.prototype.toString;t.exports=function(t){return i.call(t)}},413:function(t,e){t.exports=function(){this.__data__=[],this.size=0}},414:function(t,e,i){var n=i(130),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,i=n(e,t);return!(i<0)&&(i==e.length-1?e.pop():o.call(e,i,1),--this.size,!0)}},415:function(t,e,i){var n=i(130);t.exports=function(t){var e=this.__data__,i=n(e,t);return i<0?void 0:e[i][1]}},416:function(t,e,i){var n=i(130);t.exports=function(t){return n(this.__data__,t)>-1}},417:function(t,e,i){var n=i(130);t.exports=function(t,e){var i=this.__data__,o=n(i,t);return o<0?(++this.size,i.push([t,e])):i[o][1]=e,this}},418:function(t,e,i){var n=i(129);t.exports=function(){this.__data__=new n,this.size=0}},419:function(t,e){t.exports=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}},420:function(t,e){t.exports=function(t){return this.__data__.get(t)}},421:function(t,e){t.exports=function(t){return this.__data__.has(t)}},422:function(t,e,i){var n=i(129),o=i(184),r=i(198);t.exports=function(t,e){var i=this.__data__;if(i instanceof n){var a=i.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++i.size,this;i=this.__data__=new r(a)}return i.set(t,e),this.size=i.size,this}},423:function(t,e,i){var n=i(37),o=i(424),r=i(43),a=i(260),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,g=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!r(t)||o(t))&&(n(t)?g:s).test(a(t))}},424:function(t,e,i){var n,o=i(425),r=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!r&&r in t}},425:function(t,e,i){var n=i(41)["__core-js_shared__"];t.exports=n},426:function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},427:function(t,e,i){var n=i(428),o=i(129),r=i(184);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(r||o),string:new n}}},428:function(t,e,i){var n=i(429),o=i(430),r=i(431),a=i(432),s=i(433);function c(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=r,c.prototype.has=a,c.prototype.set=s,t.exports=c},429:function(t,e,i){var n=i(131);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},43:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},430:function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},431:function(t,e,i){var n=i(131),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return o.call(e,t)?e[t]:void 0}},432:function(t,e,i){var n=i(131),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},433:function(t,e,i){var n=i(131);t.exports=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},434:function(t,e,i){var n=i(132);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},435:function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},436:function(t,e,i){var n=i(132);t.exports=function(t){return n(this,t).get(t)}},437:function(t,e,i){var n=i(132);t.exports=function(t){return n(this,t).has(t)}},438:function(t,e,i){var n=i(132);t.exports=function(t,e){var i=n(this,t),o=i.size;return i.set(t,e),this.size+=i.size==o?0:1,this}},439:function(t,e,i){var n=i(205),o=i(261),r=i(442),a=i(444),s=i(145),c=i(26),u=i(158),l=i(199),d="[object Object]",g=Object.prototype.hasOwnProperty;t.exports=function(t,e,i,f,h,p){var _=c(t),m=c(e),w=_?"[object Array]":s(t),v=m?"[object Array]":s(e),y=(w="[object Arguments]"==w?d:w)==d,b=(v="[object Arguments]"==v?d:v)==d,A=w==v;if(A&&u(t)){if(!u(e))return!1;_=!0,y=!1}if(A&&!y)return p||(p=new n),_||l(t)?o(t,e,i,f,h,p):r(t,e,w,i,f,h,p);if(!(1&i)){var T=y&&g.call(t,"__wrapped__"),C=b&&g.call(e,"__wrapped__");if(T||C){var E=T?t.value():t,O=C?e.value():e;return p||(p=new n),h(E,O,i,f,p)}}return!!A&&(p||(p=new n),a(t,e,i,f,h,p))}},440:function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},441:function(t,e){t.exports=function(t){return this.__data__.has(t)}},442:function(t,e,i){var n=i(95),o=i(297),r=i(135),a=i(261),s=i(443),c=i(185),u=n?n.prototype:void 0,l=u?u.valueOf:void 0;t.exports=function(t,e,i,n,u,d,g){switch(i){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!d(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=s;case"[object Set]":var h=1&n;if(f||(f=c),t.size!=e.size&&!h)return!1;var p=g.get(t);if(p)return p==e;n|=2,g.set(t,e);var _=a(f(t),f(e),n,u,d,g);return g.delete(t),_;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},443:function(t,e){t.exports=function(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}},444:function(t,e,i){var n=i(298),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,i,r,a,s){var c=1&i,u=n(t),l=u.length;if(l!=n(e).length&&!c)return!1;for(var d=l;d--;){var g=u[d];if(!(c?g in e:o.call(e,g)))return!1}var f=s.get(t),h=s.get(e);if(f&&h)return f==e&&h==t;var p=!0;s.set(t,e),s.set(e,t);for(var _=c;++d<l;){var m=t[g=u[d]],w=e[g];if(r)var v=c?r(w,m,g,e,t,s):r(m,w,g,t,e,s);if(!(void 0===v?m===w||a(m,w,i,r,s):v)){p=!1;break}_||(_="constructor"==g)}if(p&&!_){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return s.delete(t),s.delete(e),p}},445:function(t,e){t.exports=function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}},446:function(t,e,i){var n=i(64),o=i(46);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},447:function(t,e){t.exports=function(){return!1}},448:function(t,e,i){var n=i(64),o=i(200),r=i(46),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return r(t)&&o(t.length)&&!!a[n(t)]}},449:function(t,e,i){var n=i(303)(Object.keys,Object);t.exports=n},450:function(t,e,i){var n=i(63)(i(41),"DataView");t.exports=n},451:function(t,e,i){var n=i(63)(i(41),"Promise");t.exports=n},452:function(t,e,i){var n=i(63)(i(41),"WeakMap");t.exports=n},455:function(t,e,i){var n=i(456),o=i(304),r=i(133),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:r;t.exports=a},456:function(t,e){t.exports=function(t){return function(){return t}}},457:function(t,e){var i=Date.now;t.exports=function(t){var e=0,n=0;return function(){var o=i(),r=16-(o-n);if(n=o,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},458:function(t,e){t.exports=function(t){return t!=t}},459:function(t,e){t.exports=function(t,e,i){for(var n=i-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}},46:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},460:function(t,e,i){var n=i(262),o=i(461),r=i(185),a=n&&1/r(new n([,-0]))[1]==1/0?function(t){return new n(t)}:o;t.exports=a},461:function(t,e){t.exports=function(){}},464:function(t,e,i){var n=i(465),o=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(o,""):t}},465:function(t,e){var i=/\s/;t.exports=function(t){for(var e=t.length;e--&&i.test(t.charAt(e)););return e}},47:function(t,e,i){var n=i(226);t.exports=function(t,e){return n(t,e)}},470:function(t,e,i){var n=i(242),o=i(175),r=i(92),a=i(138),s=r((function(t,e){return a(t)?n(t,o(e,1,a,!0)):[]}));t.exports=s},488:function(t,e,i){"use strict";i.d(e,"f",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"e",(function(){return a})),i.d(e,"d",(function(){return c})),i.d(e,"a",(function(){return u}));var n=Math.random().toString(36).substring(8),o=function(){return window.giosg.protocol+"//"+window.giosg.baseDomain},r=function(){return window.giosg.protocol+"//"+(window.giosg.flag_use_new_iframe_domain?window.giosg.chatIframeDomain:window.giosg.baseDomain)},a=function(){return r()+"/static/visitor/"},s=function(){var t=window.giosg.flag_use_new_iframe_domain?"/cd/":"/c/";return""+r()+t+window.giosg.companyId+"/"+n+"/?url="+encodeURIComponent(window.giosg.pageUrl)},c=function(){return s()+"#"+encodeURIComponent(document.location.href)},u=function(t,e){var i,n=window.giosg.tracker.getVisitorId(),o=window.giosg.tracker.getVisitorGlobalId(),r=window.giosg.tracker.getVisitorSecretId(),a=Object.assign({cid:r?null:n,gid:o,sgid:r,dialog_id:window._giosg._draft_dlg_id||(null===(i=window.giosg.liveChatConfig)||void 0===i?void 0:i.dialogId),mobile:t?"true":void 0},e);window._giosg._preview&&(a.preview="1",a.draft_preview_hash=window._giosg._draft_preview_hash);var c=s();for(var u in a){var l=a[u];l&&(c+="&"+encodeURIComponent(u)+"="+encodeURIComponent(l))}return c}},556:function(t,e,i){var n=i(95),o=i(167),r=i(26),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return r(t)||o(t)||!!(a&&t&&t[a])}},57:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},574:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return r}));var n=i(1),o=function(t,e){return t.dataType="json",t.contentType="application/json",e&&(t.headers={"X-GIOSG-ClientVersion":e}),window.jGiosg.ajax(t).promise()},r=function(t,e,i){return Object(n.__awaiter)(void 0,void 0,void 0,(function(){var o,r;return Object(n.__generator)(this,(function(a){switch(a.label){case 0:return o={"Content-Type":"application/json",Accept:"application/json"},i&&(o["X-GIOSG-ClientVersion"]=i),[4,fetch(t,Object(n.__assign)(Object(n.__assign)({},e),{headers:Object(n.__assign)(Object(n.__assign)({},o),e.headers)}))];case 1:if(!(r=a.sent()).ok)throw Error(r.statusText);return[2,r]}}))}))}},575:function(t,e,i){"use strict";i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return u})),i.d(e,"a",(function(){return d}));var n=i(211),o=i.n(n),r=i(1520),a=i(85),s=void 0,c=function(){return s||(s=window.jGiosg.Deferred()),s},u=function(t,e,i){for(var n=window.jGiosg.Deferred(),o=[],r=i||window.giosg.rooms,s=function(t){var e=r[t];o.find((function(t){return t===e}))||o.push(e)},u=r.length-1;u>=0;u--)s(u);e&&(window.giosg.pageUrl=e);var l=null!=window.giosg.pageUrl?window.giosg.pageUrl:window.location.href;return window.giosg.tracker.setCustomUrl(l),t&&(window.giosg.pageTitle=t),window.giosg.tracker.trackPageView(o,window.giosg.pageTitle).then((function(){c().resolve(),window.giosg.trigger("client:pageload"),window.giosg.trigger("track"),Object(a.e)("giosgchat:api_change"),n.resolve()})),n.promise()},l=function(t,e){var i=window.giosg.rooms;!t.targetAnyRoom&&Array.isArray(t.targetRooms)&&(i=o()(i,t.targetRooms)),window.giosg.tracker.trackEvent(i,{se_category:"rule",se_action:e,se_label:t.id||"auto",se_vendor:"com.giosg",event_meta:{rule_actions:t.actions.map((function(t){return r.a[t.type]}))}}),t.actions.forEach((function(n){window.giosg.tracker.trackEvent(i,{se_category:"action",se_action:e,se_label:n.action_label,se_property:n.action_checksum,se_vendor:"com.giosg",event_meta:{rule_id:t.id||"auto"}})})),t.actions&&t.actions.length>1&&window.giosg.tracker.trackEvent(i,{se_category:"combined_action",se_action:e,se_label:t.combined_action_label,se_property:t.combined_action_checksum,event_meta:{rule_id:t.id||"auto"}})},d=function(t){t.onRuleTrigger((function(t){l(t,"trigger")}),(function(t){l(t,"untrigger")}))}},580:function(t,e,i){i(739),t.exports=self.fetch.bind(self)},59:function(t,e,i){var n=i(302),o=i(326),r=i(61);t.exports=function(t){return r(t)?n(t):o(t)}},61:function(t,e,i){var n=i(37),o=i(200);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},63:function(t,e,i){var n=i(423),o=i(426);t.exports=function(t,e){var i=o(t,e);return n(i)?i:void 0}},64:function(t,e,i){var n=i(95),o=i(411),r=i(412),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):r(t)}},68:function(t,e,i){"use strict";function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function o(t){return!!t.match(/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/)}function r(t){return function(t){var e=0,i=s;return i[t[e++]]+i[t[e++]]+i[t[e++]]+i[t[e++]]+"-"+i[t[e++]]+i[t[e++]]+"-"+i[t[e++]]+i[t[e++]]+"-"+i[t[e++]]+i[t[e++]]+"-"+i[t[e++]]+i[t[e++]]+i[t[e++]]+i[t[e++]]+i[t[e++]]+i[t[e++]]}(function(t){var e,i,n,o,r,s,c,u,l,d,g=(t=t.replace(/=/g,"")).length,f=[],h=0;for(l=0,d=g>>3<<3;l<d;)e=a[t.charAt(l++)],i=a[t.charAt(l++)],n=a[t.charAt(l++)],o=a[t.charAt(l++)],r=a[t.charAt(l++)],s=a[t.charAt(l++)],c=a[t.charAt(l++)],u=a[t.charAt(l++)],f[h++]=255&(e<<3|i>>>2),f[h++]=255&(i<<6|n<<1|o>>>4),f[h++]=255&(o<<4|r>>>1),f[h++]=255&(r<<7|s<<2|c>>>3),f[h++]=255&(c<<5|u);var p=g-d;2===p?(e=a[t.charAt(l++)],i=a[t.charAt(l++)],f[h++]=255&(e<<3|i>>>2)):4===p?(e=a[t.charAt(l++)],i=a[t.charAt(l++)],n=a[t.charAt(l++)],o=a[t.charAt(l++)],f[h++]=255&(e<<3|i>>>2),f[h++]=255&(i<<6|n<<1|o>>>4)):5===p?(e=a[t.charAt(l++)],i=a[t.charAt(l++)],n=a[t.charAt(l++)],o=a[t.charAt(l++)],r=a[t.charAt(l++)],f[h++]=255&(e<<3|i>>>2),f[h++]=255&(i<<6|n<<1|o>>>4),f[h++]=255&(o<<4|r>>>1)):7===p&&(e=a[t.charAt(l++)],i=a[t.charAt(l++)],n=a[t.charAt(l++)],o=a[t.charAt(l++)],r=a[t.charAt(l++)],s=a[t.charAt(l++)],c=a[t.charAt(l++)],f[h++]=255&(e<<3|i>>>2),f[h++]=255&(i<<6|n<<1|o>>>4),f[h++]=255&(o<<4|r>>>1),f[h++]=255&(r<<7|s<<2|c>>>3));return f}(t.toUpperCase()).slice(0,-1).slice(-16))}i.r(e),i.d(e,"uuid4",(function(){return n})),i.d(e,"isUuid",(function(){return o})),i.d(e,"fromGiosgToken",(function(){return r}));for(var a={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},s=[],c=0;c<256;c++)s[c]=(c+256).toString(16).substr(1)},729:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i(1),o=(i(580),i(147)),r=i.n(o),a=i(47),s=i.n(a),c=i(308),u=i.n(c),l=i(93),d=function(){function t(t){void 0===t&&(t=!1),this.emitLatestValueOnSubscribe=t,this._value=null,this.subscribers=[],this.subscribersForOneEvent=[]}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.subscribers.push(t),this.emitLatestValueOnSubscribe&&this.value&&t(this._value)},t.prototype.subscribeOnce=function(t){this.subscribersForOneEvent.push(t)},t.prototype.notify=function(t){this._value=t,this.notifySubscribers(t)},t.prototype.notifySubscribers=function(t){this.subscribers.forEach((function(e){return e(t)})),this.subscribersForOneEvent.forEach((function(e){return e(t)})),this.subscribersForOneEvent=[]},t.prototype.unsubscribe=function(){this.subscribers=[],this.subscribersForOneEvent=[]},t.combineLatest=function(t,e,i,n){var o=function(t){var e;return function(i){s()(e,i)||t(e=i)}}((function(){n(t.value,e.value,i.value)})),r=function(){t.value&&e.value&&i.value&&o({visitorId:t.value,visitorGlobalId:e.value,giosgSessionId:i.value})};t.subscribe(r),e.subscribe(r),i.subscribe(r)},t}(),g=function(){function t(t,e){this.cb=t,this.bufferTimeout=e,this.buffer=[],this.timeoutKey=null,this.timeoutActive=!1}return t.prototype.start=function(){this.timeoutActive=!0,this.startTimeout()},t.prototype.startTimeout=function(){var t=this;null===this.timeoutKey&&(this.timeoutKey=window.setTimeout((function(){t.cb(t.buffer),t.buffer=[],t.timeoutKey=null}),this.bufferTimeout))},t.prototype.clearTimer=function(){clearTimeout(this.timeoutKey),this.timeoutKey=null},t.prototype.addValue=function(t){this.buffer.push(t),this.timeoutActive&&this.startTimeout()},t.prototype.destroy=function(){this.cb(this.buffer),this.clearTimer(),this.buffer=[]},t}();function f(t,e){var i=null;return{update:function(n){window.clearInterval(i),i=window.setInterval((function(){t(n)}),e)},destroy:function(){return window.clearInterval(i)}}}var h=function(){function t(t,e){var i=this;if(this.trackerUrl=t,this.options=e,this.trackSubject=new d,this.visitorInteractionStream=new d,this.boundDOMEventListener=this.DOMEventListener.bind(this),this.visitorIdSubject=new d(!0),this.visitorGlobalIdSubject=new d(!0),this.giosgSessionIdSubject=new d(!0),this.visitorIdentitySubject=new d(!0),this.trackAjaxStream=new d,this.activateTrackRequiredStream=new d,this.isVisitorActiveStream=new d(!0),this.activateTrackStream=new d,this.destroyTrackerStream=new d,this.isDestroyed=!1,this.activateRooms=[],!t)throw new Error("Tracker requires trackerUrl!");if(!e.domain&&!e.organizationId)throw new Error("Tracker requires domain or organizationId!");this.config=this.getConfig(),this.initializeDOMEventListeners(),this.initVisitorIdentitySubject(),this.initTrackAjaxStream(),this.initActivateTrackRequiredStream(),this.initIsVisitorActiveStream(),this.initActivateTrackStream(),this.options.cid&&this.visitorIdSubject.notify(this.options.cid),this.options.gid&&this.visitorGlobalIdSubject.notify(this.options.gid),this.options.giosgSessionId&&this.giosgSessionIdSubject.notify(this.options.giosgSessionId),this.visitorIdentitySubject.subscribeOnce((function(){i.visitorIdentitySubject.subscribe((function(){i.sendActivateTrack()}))}))}return t.prototype.DOMEventListener=function(t){this.visitorInteractionStream.notify(t)},t.prototype.initializeDOMEventListeners=function(){window.jGiosg(window.document).on("click mousemove touchstart keydown scroll",this.boundDOMEventListener)},t.prototype.removeDOMEventListeners=function(){window.jGiosg(window.document).off("click mousemove touchstart keydown scroll",this.boundDOMEventListener)},t.prototype.initVisitorIdentitySubject=function(){var t=this;d.combineLatest(this.visitorIdSubject,this.visitorGlobalIdSubject,this.giosgSessionIdSubject,(function(e,i,n){t.visitorIdentitySubject.notify({visitorId:e,visitorGlobalId:i,giosgSessionId:n})}))},t.prototype.initTrackAjaxStream=function(){var t=this,e=new g((function(e){if(e.length){var i=t.visitorIdentitySubject.value;t.sendTrackData(e,i).then((function(){t.trackAjaxStream.notify(e)}),(function(){t.trackAjaxStream.notify([])}))}}),100);this.trackSubject.subscribe((function(t){e.addValue(t)})),this.visitorIdentitySubject.subscribeOnce((function(){e.start()})),this.destroyTrackerStream.subscribeOnce((function(){return e.destroy()}))},t.prototype.initActivateTrackRequiredStream=function(){var t=this,e=f((function(e){t.activateTrackRequiredStream.notify(e)}),3e4);this.trackAjaxStream.subscribe((function(){e.update(!0),t.activateTrackRequiredStream.notify(!1)})),e.update(!0),this.activateTrackRequiredStream.notify(!1),this.destroyTrackerStream.subscribeOnce((function(){return e.destroy()}))},t.prototype.initIsVisitorActiveStream=function(){var t=this,e=f((function(e){t.isVisitorActiveStream.notify(e)}),1e4);this.visitorInteractionStream.subscribe((function(){e.update(!1),t.isVisitorActiveStream.notify(!0)})),e.update(!1),this.isVisitorActiveStream.notify(!0),this.destroyTrackerStream.subscribeOnce((function(){return e.destroy()}))},t.prototype.initActivateTrackStream=function(){var t=this,e=f((function(i){t.activateTrackRequiredStream.value&&t.isVisitorActiveStream.value&&t.activateTrackStream.notify(i),e.update(!0)}),3e3);e.update(!0),this.destroyTrackerStream.subscribeOnce(e.destroy),this.activateTrackStream.subscribe((function(e){e&&t.sendActivateTrack()}))},t.prototype.getConfig=function(){return{customTitle:null,configCustomUrl:null,configReferrerUrl:this.getReferrer()}},t.prototype.setVisitorExplicitPriority=function(t){this.visitorExplicitPriority=t},t.prototype.trackPageView=function(t,e){this.activateRooms=r()(t,this.activateRooms);var i=window.jGiosg.Deferred();return this.config.customTitle=e,this.trackSubject.notify({rooms:t,event_type:"pageview"}),this.trackAjaxStream.subscribeOnce((function(t){t.length?i.resolve():i.reject()})),i.promise()},t.prototype.trackGoal=function(t,e){return void 0===e&&(e={}),this.trackEvent(this.activateRooms,{se_category:"goal",se_action:"matches",se_label:t,se_property:e.interactionUuid,se_value:e.value})},t.prototype.sendActivateTrack=function(){return this.trackEvent(this.activateRooms,{se_category:"track",se_action:"activate"})},t.prototype.trackThirdPartyCookies=function(t){return this.trackEvent(this.activateRooms,{se_category:"statistics",se_action:"thirdpartycookies",se_value:t?1:0})},t.prototype.trackFrameLoadedTime=function(t,e){return this.trackEvent(this.activateRooms,{se_category:"statistics",se_action:"frameloaded",se_value:t,se_property:e})},t.prototype.trackDomainProbe=function(t){return this.trackEvent(this.activateRooms,{se_category:"statistics",se_action:"domainiframeprobe",se_value:t?1:0})},t.prototype.destroyTracker=function(){this.isDestroyed=!0,this.trackAjaxStream.unsubscribe(),this.activateTrackStream.unsubscribe(),this.isVisitorActiveStream.unsubscribe(),this.visitorInteractionStream.unsubscribe(),this.activateTrackRequiredStream.unsubscribe(),this.destroyTrackerStream.notify(null),this.removeDOMEventListeners()},t.prototype.trackEvent=function(t,e){var i=window.jGiosg.Deferred();return this.trackSubject.notify(Object(n.__assign)(Object(n.__assign)({},e),{rooms:t,event_type:"event"})),this.trackAjaxStream.subscribeOnce((function(t){t.length?i.resolve():i.reject()})),i.promise()},t.prototype.getRequest=function(t){var e=this.config.configCustomUrl||window.location.href;return{cid:t.visitorId,gid:t.visitorGlobalId,giosg_session_id:t.giosgSessionId,domain:this.options.domain,organization_id:this.options.organizationId,title:(this.config.customTitle||document.title).substring(0,2e3),url:e.substring(0,2e3),referer:this.config.configReferrerUrl.length?this.config.configReferrerUrl:null,pipeline:this.pipeline_step,resolution:screen.width+"x"+screen.height,version:this.options.client_version,explicit_priority:this.visitorExplicitPriority}},t.prototype.sendTrackData=function(t,e){var i=this.getRequest(e);i.events=this.mergeEvents(t);var n=JSON.stringify(i);return this.refreshGiosgSessionId(),fetch(this.trackerUrl+"trace/",{method:"POST",body:n,headers:{Accept:"application/json, text/javascript, */*","Content-Type":"text/plain; charset=UTF-8"}})},t.prototype.mergeEvents=function(t){var e=t.filter((function(t){return"pageview"===t.event_type})),i=t.filter((function(t){return"pageview"!==t.event_type}));if(0===e.length)return t;var o=e.reduce((function(t,e){return Object(n.__assign)(Object(n.__assign)({},t),{rooms:r()(t.rooms,e.rooms)})}),e[0]);return i.concat([o])},t.prototype.getProtocolScheme=function(t){var e=new RegExp("^([a-z]+):").exec(t);return e?e[1]:null},t.prototype.getHostName=function(t){var e=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(t);return e?e[1]:t},t.prototype.getReferrer=function(){var t="";try{t=window.top.document.referrer}catch(e){if(window.parent)try{t=window.parent.document.referrer}catch(e){t=""}}return""===t&&(t=document.referrer),t},t.prototype.setCustomUrl=function(t){this.config.configCustomUrl=this.resolveRelativeReference(window.location.href,t)},t.prototype.resolveRelativeReference=function(t,e){if(this.getProtocolScheme(e))return e;if("/"===e.slice(0,1))return this.getProtocolScheme(t)+"://"+this.getHostName(t)+e;var i=t.indexOf("?");return i>=0&&(t=t.slice(0,i)),(i=t.lastIndexOf("/"))!==t.length-1&&(t=t.slice(0,i+1)),t+e},t.prototype.setVisitorId=function(t){this.visitorIdSubject.notify(t);return Object(l.b)("giosg_chat_id_"+this.options.company,t,63072e3)},t.prototype.getVisitorId=function(){return Object(l.a)("giosg_chat_id_"+this.options.company)},t.getVisitorIdForOrganization=function(t){return Object(l.a)("giosg_chat_id_"+t)},t.prototype.setVisitorGlobalId=function(t){this.visitorGlobalIdSubject.notify(t);return Object(l.b)("giosg_gid_"+this.options.company,t,63072e3)},t.prototype.getVisitorGlobalId=function(){return Object(l.a)("giosg_gid_"+this.options.company)},t.getVisitorGlobalIdForOrganization=function(t){return Object(l.a)("giosg_gid_"+t)},t.prototype.setGiosgSessionId=function(t){this.giosgSessionIdSubject.notify(t);return Object(l.b)("giosg_gsessid_"+this.options.company,t,1800)},t.prototype.getGiosgSessionId=function(){return Object(l.a)("giosg_gsessid_"+this.options.company)},t.getGiosgSessionIdForOrganization=function(t){return Object(l.a)("giosg_gsessid_"+t)},t.prototype.refreshGiosgSessionId=function(){return this.setGiosgSessionId(this.giosgSessionIdSubject.value)},t.prototype.setVisitorSecretId=function(t){return Object(l.b)("giosg_sgid_"+this.options.company,t,63072e3)},t.prototype.getVisitorSecretId=function(){return Object(l.a)("giosg_sgid_"+this.options.company)},t.getVisitorSecretIdForOrganization=function(t){return Object(l.a)("giosg_sgid_"+t)},t.prototype.removeRoom=function(t){var e=this.activateRooms;return this.activateRooms=u()(e,t),this.activateRooms.length<e.length},t}()},730:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return r}));var n=function(t){return"giosg_rmatch_d"+window.giosg.domainId+"_r"+t},o=function(t,e){try{var i=n(t.id),o=window.localStorage[i];return o&&(!e||e===o)}catch(t){}return!1},r=function(t,e){try{var i=n(t.id);window.localStorage[i]=null!=e?e:"match-rule-once-for-visitor"}catch(t){}}},737:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"d",(function(){return s})),i.d(e,"c",(function(){return c})),i.d(e,"a",(function(){return u})),i.d(e,"e",(function(){return l}));var n=i(338),o=i(730),r=i(575);function a(t,e){try{var i="";window.location.hash.match("#giosg")&&(i=window.location.hash);var n="//"+t.baseDomain+"/client/"+t.companyId+"/",o=null;if(e("script").each((function(){var t=e(this);t.attr("src")&&-1!==t.attr("src").indexOf(n)&&(o=t)})),o){var r=o.attr("src"),a=r.indexOf("?");if(a>-1){for(var s=r.substring(a+1).split("&"),c={},u=0;u<s.length;u++){var l=s[u].split("=");c[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}t.scriptParams=c,t.scriptParams.url&&(t.customUrl=t.scriptParams.url+i,t.tracker.setCustomUrl(t.customUrl))}}if(!0===t.useCanonicalUrl&&null==t.customUrl){var d=document.getElementsByTagName("link");if(null!=d)for(u=0;u<d.length;u++){if(null!=d[u].getAttribute("rel"))if("canonical"===d[u].getAttribute("rel")){var g=d[u].getAttribute("href");g+=i,t.tracker.setCustomUrl(g),t.customUrl=g;break}}}}catch(t){}}function s(t,e){(t.isMobile||t.isTablet)&&(e.textRotation="0",e.position=14,e.height=Math.min(e.height,e.width),e.width=window.innerWidth,e.borderRadiusBL=0,e.borderRadiusBR=0,e.borderRadiusTL=0,e.borderRadiusTR=0)}function c(){var t=window.navigator.userAgent.toLowerCase(),e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],i=e[1]||"",n=e[2]||"0";return!("msie"===i&&n<11||"opera"===i&&n<12)}function u(){var t=window.MooTools;if("object"==typeof t){var e=t.version.split(".");parseInt(e[0])<2&&parseInt(e[1])<5&&console.log("MooTools version less than 1.5.1 detected! giosg Live might not work correctly!")}}function l(t,e){t.pageUrl=null!=t.customUrl?t.customUrl:document.location.href,t.ruleEngine.addRules(t.rules),t.liveChatConfig.chatButtonEnabled&&t.ruleEngine.addRule({name:"Chat enabled on domain settings",autoCreated:!0,targetRooms:[t.domainRoom],conditions:[],actions:[{type:t.rulesConfig.actionTypes.ENABLE_CHATBUTTON,value:null}]});var i=new t.GiosgClient(t);window.GiosgClient=i,i.init().then((function(){t.ruleEngine.onRuleTrigger((function(e){e.matchOnceInSession||e.matchOnceForVisitor?(Object(o.b)(e,t.sessionUuid),e.disableOnUndo=!0):e.matchOnceOnPage&&(e.disableOnUndo=!0)}),(function(t){t.disableOnUndo&&(t.enabled=!1,delete t.disableOnUndo)})),Object(r.a)(window.giosg.ruleEngine),e((function(){setTimeout((function(){t.ruleEngine.start()}),0),t.ruleEngine.getMatchingRulesByAction(t.rulesConfig.actionTypes.JOIN_ROOMS).then((function(){Object(n.f)()}))})),t.api.apps.init()}))}},739:function(t,e,i){"use strict";i.r(e),i.d(e,"Headers",(function(){return h})),i.d(e,"Request",(function(){return b})),i.d(e,"Response",(function(){return T})),i.d(e,"DOMException",(function(){return E})),i.d(e,"fetch",(function(){return O}));var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n&&n,o="URLSearchParams"in n,r="Symbol"in n&&"iterator"in Symbol,a="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in n,c="ArrayBuffer"in n;if(c)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function d(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function g(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function _(t){return new Promise((function(e,i){t.onload=function(){e(t.result)},t.onerror=function(){i(t.error)}}))}function m(t){var e=new FileReader,i=_(e);return e.readAsArrayBuffer(t),i}function w(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:a&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:o&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():c&&a&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=w(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(t)||l(t))?this._bodyArrayBuffer=w(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=p(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(m)}),this.text=function(){var t,e,i,n=p(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,i=_(e),e.readAsText(t),i;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),i=new Array(e.length),n=0;n<e.length;n++)i[n]=String.fromCharCode(e[n]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=d(t),e=g(e);var i=this.map[t];this.map[t]=i?i+", "+e:e},h.prototype.delete=function(t){delete this.map[d(t)]},h.prototype.get=function(t){return t=d(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(d(t))},h.prototype.set=function(t,e){this.map[d(t)]=g(e)},h.prototype.forEach=function(t,e){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(e,this.map[i],i,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,i){t.push(i)})),f(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,i){t.push([i,e])})),f(t)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,e){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var i,n,o=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(i=e.method||this.method||"GET",n=i.toUpperCase(),y.indexOf(n)>-1?n:i),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function A(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var i=t.split("="),n=i.shift().replace(/\+/g," "),o=i.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}})),e}function T(t,e){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},T.error=function(){var t=new T(null,{status:0,statusText:""});return t.type="error",t};var C=[301,302,303,307,308];T.redirect=function(t,e){if(-1===C.indexOf(e))throw new RangeError("Invalid status code");return new T(null,{status:e,headers:{location:t}})};var E=n.DOMException;try{new E}catch(t){(E=function(t,e){this.message=t,this.name=e;var i=Error(t);this.stack=i.stack}).prototype=Object.create(Error.prototype),E.prototype.constructor=E}function O(t,e){return new Promise((function(i,o){var r=new b(t,e);if(r.signal&&r.signal.aborted)return o(new E("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var i=t.split(":"),n=i.shift().trim();if(n){var o=i.join(":").trim();e.append(n,o)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;setTimeout((function(){i(new T(o,n))}),0)},s.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){o(new E("Aborted","AbortError"))}),0)},s.open(r.method,function(t){try{return""===t&&n.location.href?n.location.href:t}catch(e){return t}}(r.url),!0),"include"===r.credentials?s.withCredentials=!0:"omit"===r.credentials&&(s.withCredentials=!1),"responseType"in s&&(a?s.responseType="blob":c&&r.headers.get("Content-Type")&&-1!==r.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!e||"object"!=typeof e.headers||e.headers instanceof h?r.headers.forEach((function(t,e){s.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){s.setRequestHeader(t,g(e.headers[t]))})),r.signal&&(r.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&r.signal.removeEventListener("abort",u)}),s.send(void 0===r._bodyInit?null:r._bodyInit)}))}O.polyfill=!0,n.fetch||(n.fetch=O,n.Headers=h,n.Request=b,n.Response=T)},85:function(t,e,i){"use strict";i.d(e,"a",(function(){return u})),i.d(e,"c",(function(){return l})),i.d(e,"e",(function(){return d})),i.d(e,"d",(function(){return g})),i.d(e,"b",(function(){return f}));var n=i(488),o=i(345),r=0,a=!1,s={},c=[],u=function(t,e,i){var o=document.getElementById("giosg_chat_history"),r={command:t,data:e,query:i};o&&o.contentWindow&&o.contentWindow.postMessage(JSON.stringify(r),Object(n.d)())},l=function(t,e){var i=document.createElement("iframe");i.setAttribute("allow","fullscreen; camera; microphone"),i.setAttribute("loading","eager"),Object.keys(e).forEach((function(t){i.setAttribute(t,e[t])})),i.style.border="0",t.innerHTML="",t.appendChild(i)},d=function(t,e){var i=window.jGiosg.Deferred();return s[r+=1]=i,!0===a?u(t,e,r):c.push([t,e,r]),i.promise()},g=function(){for(var t=c;t.length;){var e=t.shift();u(e[0],e[1],e[2])}},f=function(t,e){var i={resolvequery:function(t){if(t.query){var e=s[t.query];if(!e)return;!1===t.success?e.reject(t.result):e.resolve(t.result),delete s[t.query]}},openchatdialog:function(t){e?e.openChatDialog(t.animate):console.warn("Received openchatdialog without GiosgClient initialized")},closechatdialog:function(){e?e.closeChatDialog():console.warn("Received openchatdialog without GiosgClient initialized")},operatorpresence:function(i){var n=[],o=i.room;"offline"===i.state?(o&&(e.isOperatorsOnlineByRoom[o]=!1),e.customButton.hide(o),e._customElements.hide(),window.giosg.trigger("operatorpresence",{room:o,is_online:!1}),e.showStatus("offline")):"online"===i.state&&(o&&(e.isOperatorsOnlineByRoom[o]=!0),n=i.operators,e.customButton.show(o),e._customElements.show(),window.giosg.trigger("operatorpresence",{room:o,is_online:!0}),e.showStatus("online")),e._refreshLegacyIsOperatorsOnline(),e.toggleOperatorChatbuttons(n),t.refreshAllRules()},snoopedroomonlinestatus:function(t){e&&(e.snoopedRoomsOnlineStatus=t),window.giosg.trigger("snoopedroomonlinestatus",t)},update_rooms_waiting_times:function(i){e.averageWaitingTimeByRoom=i,t.refreshAllRules()},frameloaded:function(t){a||(window.giosg.targetToken=t.targetToken,window.giosg.visitorGid=t.visitorGid,window.giosg.tracker.setVisitorGlobalId(t.visitorGid),window.giosg.visitorCid=t.cid,window.giosg.tracker.setVisitorId(t.cid),Object(o.d)().resolve(t.cid),window.giosg.unpackedVisitorCid=t.unpackedVisitorCid,window.giosg.giosgSessionId=t.giosgSessionId,window.giosg.tracker.setGiosgSessionId(window.giosg.giosgSessionId),t.sgid&&window.giosg.tracker.setVisitorSecretId(t.sgid),window.giosg.tracker.trackThirdPartyCookies(!t.sgid),a=!0,e&&(e.targetTokenDeferred.resolve(t.targetToken),e.visitorGidDeferred.resolve(t.visitorGid),e.proxyReady=!0),g(),e&&e.toggleUI(),window.giosg.trigger("client:ready"),window.giosg.loaderStartTime&&window.giosg.tracker.trackFrameLoadedTime((new Date).getTime()-window.giosg.loaderStartTime,"loader"),window.performance&&window.performance.timing&&window.performance.timing.connectStart&&"number"==typeof window.performance.timing.connectStart&&window.giosg.tracker.trackFrameLoadedTime((new Date).getTime()-window.performance.timing.connectStart,"connectStart"),window.performance&&window.performance.timeOrigin&&"number"==typeof window.performance.timeOrigin&&window.giosg.tracker.trackFrameLoadedTime((new Date).getTime()-window.performance.timeOrigin,"timeOrigin"),window.performance&&window.performance.now&&"function"==typeof window.performance.now&&window.giosg.tracker.trackFrameLoadedTime(window.performance.now(),"now"))},rule_prediction:function(e){window.giosg.predictions=window.giosg.predictions||[],window.giosg.predictions.some((function(t){return t.id===e.id}))||(window.giosg.predictions.push(e),t.refreshAllRules())},prediction:function(e){window.giosg.predictions=window.giosg.predictions||[],window.giosg.predictions.some((function(t){return t.id===e.id}))||(window.giosg.predictions.push(e),t.refreshAllRules())},messagereceive:function(t){e.onConversationMessage(t.data),window.giosg.trigger("message:receive",t.data)},messagesend:function(t){window.giosg.trigger("message:send",t.data)},onlineoperators:function(t){window.giosg.trigger("onlineoperators",t)},onlineoperatorschange:function(t){window.giosg.trigger("onlineoperators:change",t.data)},analytics_event:function(t){e._trackGoogleAnalytics(t.name,t.data.eventDataAsString,t.data.eventDataAsPlainObject,t.data.eventValue,t.data.isUserInteraction)},active_chat:function(i){e.activeChat=i,window.giosg.trigger("active_chat:changed",i),t.refreshAllRules()},active_chat_waiting_time_changed:function(t){e.activeChatWaitingTime=t},active_room:function(t){t.brand?e.mobileChatButton.changeTheme(e.mobileChatButton.button,t.brand.primary_color_code,t.brand.secondary_color_code):e.mobileChatButton.changeTheme(e.mobileChatButton.button,null,null)},get_active_chat:function(t){window.giosg.trigger("active_chat:get",t)},chat_textarea_focused:function(){(window.giosg.isMobile||window.giosg.isTablet)&&e.clearUnreadMessages(),window.giosg.trigger("chat_textarea_focused")},chats_changed:function(t){e.isNewMobileChat||e.onConversationsChanged(t)},switchchat:function(t){t&&t.room_title?e.setDialogTitle(t.room_title):e.setDialogTitle(e.clientConfig.dialog.config.titleText)},visitor_priority:function(i){var n=i.visitorPriority;null!=i.visitorPriority&&((n=parseInt(n,10))>10?n=10:n<1&&(n=1)),e&&(e.visitorPriority=n,e.priorityKnown=!0,e.cfg.tracker.setVisitorExplicitPriority(e.visitorPriority)),t.refreshAllRules()},banned:function(){e.hideChatButton()},lead_form_completed:function(i){window.giosg.__GIOSG_CONDITION_LEAD_SENT=!0,t.refreshAllRules(),window.giosg.trigger("leadform:completed",i),e._trackGoogleAnalytics("visitorCompletedLeadForm",i.leadFormName+":"+i.leadFormId,{leadFormName:i.leadFormName,leadFormId:i.leadFormId.toString()},1,!0)},latest_chat_agent:function(t){e.showChatAgentAvatar(t)},chat_tags:function(e){window.giosg.chatTags=e,t.refreshAllRules()},has_chatted_rooms:function(i){e.hasChattedRooms=window.giosg._.union(e.hasChattedRooms,i),t.refreshAllRules()},has_real_chatted_rooms:function(i){e.hasRealChattedRooms=window.giosg._.union(e.hasRealChattedRooms,i),t.refreshAllRules()},update_close_button_aria_label:function(t){var e=document.getElementsByClassName("giosg-chat-dialog-close-button")[0];e&&t&&(e.setAttribute("aria-label",t),e.setAttribute("title",t))}};return window.jGiosg(window).on("message",(function(t){var e,o=t.originalEvent,r=o.data;try{e=JSON.parse(r)}catch(t){}if(e&&e.command&&0===e.command.indexOf("giosgchat:")){var a=o.origin;if(a!==Object(n.c)()&&a!==Object(n.b)())return void console.warn("Giosg was commanded from an untrusted origin "+a);var s=e.command.substr("giosgchat:".length),c=i[s];c&&c.apply(self,[e.data])}})),!0}},92:function(t,e,i){var n=i(133),o=i(328),r=i(329);t.exports=function(t,e){return r(o(t,e,n),t+"")}},93:function(t,e,i){"use strict";function n(t){for(var e={},i=0,n=document.cookie.split("; ");i<n.length;i++){var o=n[i].split("="),r=o[0],a=o[1];try{e[r]=decodeURIComponent(a)}catch(t){}}return e[t]}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));function o(t,e,i){var n,o=(n=i,new Date(Date.now()+1e3*n).toUTCString());e=encodeURIComponent(e),document.cookie=t+"="+e+"; expires="+o+"; path=/; SameSite=Strict"}},95:function(t,e,i){var n=i(41).Symbol;t.exports=n}});